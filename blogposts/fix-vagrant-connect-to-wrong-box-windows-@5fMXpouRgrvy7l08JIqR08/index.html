<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=css/global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.ico rel=icon type=image/png> <link href=client/main.963202101.css rel=stylesheet><link href=client/[slug].2bc29ed5.css rel=stylesheet><link href=client/app.c6e68679.css rel=stylesheet><link href=client/Nav.fa717561.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Fix vagrant connect to wrong box - Windows</title> <meta content="Author: Liam, Date: 15 Aug, 2015\n So there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.
" name=description> <meta content=article name=og:type> <meta content=https://leliam.com/blogposts/fix-vagrant-connect-to-wrong-box-windows-@5fMXpouRgrvy7l08JIqR08 name=og:url> <meta content="Fix vagrant connect to wrong box - Windows" name=og:title> <meta content="So there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.\n" name=og:description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div style="min-height:calc(100vh - 48px)"> <nav aria-label="main navigation" class="svelte-1dif8ux navbar" role=navigation> <div class=navbar-brand> <a href=/ class="svelte-1dif8ux navbar-item" style=margin:5px><div class="is-4 subtitle">Le Liam</div></a> <a href=/ class="svelte-1dif8ux navbar-item">Home</a> <a href=/tags class="svelte-1dif8ux navbar-item">Tags</a> <a href=/blogposts class="svelte-1dif8ux navbar-item is-active">Blogposts</a> <a href=/contact class="svelte-1dif8ux navbar-item">Contact</a> </div> </nav> <main> <div class="container is-fluid"> <div class=media style="margin:25px 0"> <div class=media-left> <figure class="image is-48x48"> <img alt="Author avatar" loading=lazy src=/assets/32x32_avatar.jpg class=is-rounded> </figure> </div> <div class=media-content> <p class="is-4 title">Liam</p> <p class="subtitle is-6">15 Aug, 2015</p> </div> </div> <div style="margin:0 0 25px"> <img alt="blogpost banner" loading=lazy src=/assets/2015081500.png style="margin:0 auto;display:block"> </div> <h3 class=title>Fix vagrant connect to wrong box - Windows</h3> <div class="content svelte-nn94v0"> <h2>Scenario</h2> <p>So there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.</p> <p>The reason behind this is because my default drive is C drive, and when I join company network, it will mount a Z drive to my laptop and thus my home drive become Z drive. So when I open vmware, vagrant will found my virtualbox which is in C drive, however without open it it will assume my vmware is in Z drive and thus unable to find the VM.</p> <p>So now the vagrant point to the wrong VM, how can I get back the previous vagrant box? Because rerun the vagrant setup will need about 30 mins like that and there are some database data inside my VM. Therefore, the solution is to let the vagrant to point back the correct file.</p> <h2>Scripts</h2> <pre class=hljs><code><span class=hljs-built_in>cd</span> <span class=hljs-string>"C:\Program Files\Oracle\VirtualBox"</span>
VBoxManage.exe list vms
<span class=hljs-string>"vagrant_box"</span> {d055f9f7-6b67-4080-a4b0-2b4f149cac4d}

touch vagrant/tools/.vagrant/machines/default/virtualbox/id
</code></pre> <p>Paste the above id d055f9f7-6b67-4080-a4b0-2b4f149cac4d inside the id file that just created, then vagrant up, and this should solve the issue.</p> <p>It is refering to this <a href=https://github.com/mitchellh/vagrant/issues/1755>Github issue</a></p> </div> </div> </main> </div> <footer style=height:48px;padding:10px> <div class="content has-text-centered"> <a href=/privacy-policy>privacy policy</a> · ©2018-2020 Le Liam · <a href=/terms-of-service>TOS</a> </div> </footer></div> <script crossorigin=anonymous src="https://polyfill.io/v3/polyfill.min.js?features=fetch%2CPromise"></script> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{slug:"fix-vagrant-connect-to-wrong-box-windows-@5fMXpouRgrvy7l08JIqR08",title:"Fix vagrant connect to wrong box - Windows",description:"\u003Cp\u003ESo there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.\u003C\u002Fp\u003E\n",banner:"\u002Fassets\u002F2015081500.png",author:{avatar:"\u002Fassets\u002F32x32_avatar.jpg",name:"Liam"},data:"\u003Ch2\u003EScenario\u003C\u002Fh2\u003E\n\u003Cp\u003ESo there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.\u003C\u002Fp\u003E\n\u003Cp\u003EThe reason behind this is because my default drive is C drive, and when I join company network, it will mount a Z drive to my laptop and thus my home drive become Z drive. So when I open vmware, vagrant will found my virtualbox which is in C drive, however without open it it will assume my vmware is in Z drive and thus unable to find the VM.\u003C\u002Fp\u003E\n\u003Cp\u003ESo now the vagrant point to the wrong VM, how can I get back the previous vagrant box? Because rerun the vagrant setup will need about 30 mins like that and there are some database data inside my VM. Therefore, the solution is to let the vagrant to point back the correct file.\u003C\u002Fp\u003E\n\u003Ch2\u003EScripts\u003C\u002Fh2\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\"C:\\Program Files\\Oracle\\VirtualBox\"\u003C\u002Fspan\u003E\nVBoxManage.exe list vms\n\u003Cspan class=\"hljs-string\"\u003E\"vagrant_box\"\u003C\u002Fspan\u003E {d055f9f7-6b67-4080-a4b0-2b4f149cac4d}\n\ntouch vagrant\u002Ftools\u002F.vagrant\u002Fmachines\u002Fdefault\u002Fvirtualbox\u002Fid\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EPaste the above id d055f9f7-6b67-4080-a4b0-2b4f149cac4d inside the id file that just created, then vagrant up, and this should solve the issue.\u003C\u002Fp\u003E\n\u003Cp\u003EIt is refering to this \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmitchellh\u002Fvagrant\u002Fissues\u002F1755\"\u003EGithub issue\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n",postedAt:"15 Aug, 2015",metaDescription:"So there is a strange behavior in using vagrant for my work. That is when I start vagrant before starting vmware, it will not find the correct path to the vagrant box and thus create a new VM.\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.bb68c837.js"}catch(e){main="/client/legacy/client.138c9141.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script> function trim(text, val) {
		return text.replace(new RegExp('^'+val+'+|'+val+'+$','g'), '');
	}
	if (document.title === "Not Found") {
		let paths = trim(window.location.pathname, "/").split("-@");
		console.log(paths);
		if (paths.length > 1) {
			fetch(`/blogposts/shortener-${paths[paths.length - 1]}.json`)
			.then((data) => {
				return data.json()
			})
			.then((data) => {
				window.location.replace(`/blogposts/${data.slug}`);
			})
			.catch((err) => {
				console.log(err);
			})
		}
	} </script> 