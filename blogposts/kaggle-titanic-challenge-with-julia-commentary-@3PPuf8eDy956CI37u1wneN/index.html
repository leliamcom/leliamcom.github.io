<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=css/global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.ico rel=icon type=image/png> <link href=client/main.963202101.css rel=stylesheet><link href=client/[slug].eec0609d.css rel=stylesheet><link href=client/app.f729ea09.css rel=stylesheet><link href=client/Nav.036c21e8.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Kaggle titanic challenge with Julia commentary</title> <meta content="Author: Liam, Date: 31 Oct, 2015\n Recently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C
" name=description> <meta content=article name=og:type> <meta content=https://leliam.com/blogposts/kaggle-titanic-challenge-with-julia-commentary-@3PPuf8eDy956CI37u1wneN name=og:url> <meta content="Kaggle titanic challenge with Julia commentary" name=og:title> <meta content="Recently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C\n" name=og:description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div style="min-height:calc(100vh - 48px)"> <nav aria-label="main navigation" class="svelte-1dif8ux navbar" role=navigation> <div class=navbar-brand> <a href=/ class="svelte-1dif8ux navbar-item" style=margin:5px><div class="is-4 subtitle">Le Liam</div></a> <a href=/ class="svelte-1dif8ux navbar-item">Home</a> <a href=/tags class="svelte-1dif8ux navbar-item">Tags</a> <a href=/blogposts class="svelte-1dif8ux navbar-item is-active">Blogposts</a> <a href=/contact class="svelte-1dif8ux navbar-item">Contact</a> </div> </nav> <main> <div class="container is-fluid"> <div class=media style="margin:25px 0"> <div class=media-left> <figure class="image is-48x48"> <img alt="Author avatar" loading=lazy src=/assets/32x32_avatar.jpg class=is-rounded> </figure> </div> <div class=media-content> <p class="is-4 title">Liam</p> <p class="subtitle is-6">31 Oct, 2015</p> </div> </div> <div style="margin:0 0 25px"> <img alt="blogpost banner" loading=lazy src=/assets/2015103100.png style="margin:0 auto;display:block"> </div> <h3 class=title>Kaggle titanic challenge with Julia commentary</h3> <div class="content svelte-nn94v0"> <p><a href=https://www.kaggle.com/c/titanic>Kaggle titanic challenge</a> is a famous knowledge competition which many new Kaggler will try their first Kaggle competition. Below commentary will be based on the <a href=http://nbviewer.ipython.org/gist/kanhua/eba1bac946bab4d89670>nbviewer</a>.</p> <h2>FYI</h2> <ul> <li><a href=http://julialang.org/downloads/ >Julia Installation</a></li> <li><a href=http://jupyter.readthedocs.org/en/latest/install.html>Jupyter Installation</a></li> </ul> <p>There are also jupyter docker out there, it will be suitable if there are no GPU involved in your machine learning application.</p> <p>Recently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C</p> <h2>Commentary</h2> <pre class=hljs><code>using Gadfly
using DataFrames
df=readtable("train.csv")
describe(df)
</code></pre> <ul> <li>Gadfly is a popular Julia package to create the graph, equivalent to python matplotlib</li> <li>DataFrames is useful package to read and store tabular data., equivalent to python panda</li> </ul> <pre class=hljs><code>typeof(df)
df[1,:]
df[:Name]
</code></pre> <ul> <li>I will use dump(df) though :)</li> </ul> <pre class=hljs><code>pool!(df,[:Sex])
pool!(df,[:Survived])
pool!(df,[:Pclass])
</code></pre> <ul> <li>Using pool is to make df[:Sex], df[:Survived], df[:Pclass] to become a factor, a bit similar to a dictionary.</li> <li>By doing this, df[:Sex] will become DataArrays.PooledDataArray{UTF8String,UInt8,1} instead of DataArrays.DataArray{UTF8String,1}</li> </ul> <pre class=hljs><code>plot(df,x="Sex",color="Survived",Geom.histogram)
</code></pre> <ul> <li>Generating graph, however not working in my local, seems like something is broken in Gadfly</li> </ul> <pre class=hljs><code>df[!isna(df[:Age]),:]
averageAge=mean(df[!isna(df[:Age]),:Age])
df[:Age]=array(df[:Age],averageAge)
</code></pre> <ul> <li>From the describe(df), we can see that there are 177 NAs, so it is important to replace NAs data to average age</li> <li>array(da::DataArray{T}, replacement::Any) is deprecated. (as the author run this long ago)</li> </ul> <pre class=hljs><code>typeof(df[:Sex])
plot(x=df[!isna(df[:Embarked]),:Embarked],Geom.histogram)
df[:Embarked]=array(df[:Embarked],utf8("S"))
pool!(df,[:Embarked])
typeof(df[:Embarked])
</code></pre> <ul> <li>Due to NAs of Embarked, one of the options is to replace NAs with the most occurence of Embarked data, based on the plot above</li> </ul> <pre class=hljs><code>newdata=df[:,[:Pclass,:Age,:Sex,:SibSp,:Parch,:Fare,:Embarked]]
describe(newdata)
</code></pre> <ul> <li>The author decided to make a prediction based on the column above: Pclass, Age, Sex, SibSp, Parch, Fare, Embarked.</li> </ul> <pre class=hljs><code>using DecisionTree
xTrain=newdata
yTrain=df[:Survived]
yTrain=array(yTrain)
accuracy = nfoldCV_forest(yTrain, xTrain, 5, 20, 4, 0.7)
</code></pre> <ul> <li>DecisionTree package is similar to python sklearn.ensemble.RandomForestClassifier</li> <li>Testing in my local, nfoldCV_forest has no method matching nfoldCV_forest, probably due to upgraded version of dataframe</li> </ul> </div> </div> </main> </div> <footer style=height:48px;padding:10px> <div class="content has-text-centered"> <a href=/privacy-policy>privacy policy</a> · ©2018-2020 Le Liam · <a href=/terms-of-service>TOS</a> </div> </footer></div> <script crossorigin=anonymous src="https://polyfill.io/v3/polyfill.min.js?features=fetch%2CPromise"></script> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{slug:"kaggle-titanic-challenge-with-julia-commentary-@3PPuf8eDy956CI37u1wneN",title:"Kaggle titanic challenge with Julia commentary",description:"\u003Cp\u003ERecently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C\u003C\u002Fp\u003E\n",banner:"\u002Fassets\u002F2015103100.png",author:{avatar:"\u002Fassets\u002F32x32_avatar.jpg",name:"Liam"},data:"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.kaggle.com\u002Fc\u002Ftitanic\"\u003EKaggle titanic challenge\u003C\u002Fa\u003E is a famous knowledge competition which many new Kaggler will try their\nfirst Kaggle competition. Below commentary will be based on the \u003Ca href=\"http:\u002F\u002Fnbviewer.ipython.org\u002Fgist\u002Fkanhua\u002Feba1bac946bab4d89670\"\u003Enbviewer\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003EFYI\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fjulialang.org\u002Fdownloads\u002F\"\u003EJulia Installation\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fjupyter.readthedocs.org\u002Fen\u002Flatest\u002Finstall.html\"\u003EJupyter Installation\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EThere are also jupyter docker out there, it will be suitable if there are no GPU involved in your machine learning application.\u003C\u002Fp\u003E\n\u003Cp\u003ERecently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C\u003C\u002Fp\u003E\n\u003Ch2\u003ECommentary\u003C\u002Fh2\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Eusing Gadfly\nusing DataFrames\ndf=readtable(&quot;train.csv&quot;)\ndescribe(df)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EGadfly is a popular Julia package to create the graph, equivalent to python matplotlib\u003C\u002Fli\u003E\n\u003Cli\u003EDataFrames is useful package to read and store tabular data., equivalent to python panda\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Etypeof(df)\ndf[1,:]\ndf[:Name]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EI will use dump(df) though :)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Epool!(df,[:Sex])\npool!(df,[:Survived])\npool!(df,[:Pclass])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EUsing pool is to make df[:Sex], df[:Survived], df[:Pclass] to become a factor, a bit similar to a dictionary.\u003C\u002Fli\u003E\n\u003Cli\u003EBy doing this, df[:Sex] will become DataArrays.PooledDataArray{UTF8String,UInt8,1} instead of DataArrays.DataArray{UTF8String,1}\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Eplot(df,x=&quot;Sex&quot;,color=&quot;Survived&quot;,Geom.histogram)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EGenerating graph, however not working in my local, seems like something is broken in Gadfly\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Edf[!isna(df[:Age]),:]\naverageAge=mean(df[!isna(df[:Age]),:Age])\ndf[:Age]=array(df[:Age],averageAge)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EFrom the describe(df), we can see that there are 177 NAs, so it is important to replace NAs data to average age\u003C\u002Fli\u003E\n\u003Cli\u003Earray(da::DataArray{T}, replacement::Any) is deprecated. (as the author run this long ago)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Etypeof(df[:Sex])\nplot(x=df[!isna(df[:Embarked]),:Embarked],Geom.histogram)\ndf[:Embarked]=array(df[:Embarked],utf8(&quot;S&quot;))\npool!(df,[:Embarked])\ntypeof(df[:Embarked])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EDue to NAs of Embarked, one of the options is to replace NAs with the most occurence of Embarked data, based on the plot above\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Enewdata=df[:,[:Pclass,:Age,:Sex,:SibSp,:Parch,:Fare,:Embarked]]\ndescribe(newdata)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EThe author decided to make a prediction based on the column above: Pclass, Age, Sex, SibSp, Parch, Fare, Embarked.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Eusing DecisionTree\nxTrain=newdata\nyTrain=df[:Survived]\nyTrain=array(yTrain)\naccuracy = nfoldCV_forest(yTrain, xTrain, 5, 20, 4, 0.7)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003EDecisionTree package is similar to python sklearn.ensemble.RandomForestClassifier\u003C\u002Fli\u003E\n\u003Cli\u003ETesting in my local, nfoldCV_forest has no method matching nfoldCV_forest, probably due to upgraded version of dataframe\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n",postedAt:"31 Oct, 2015",metaDescription:"Recently Julia is on the trend, due to its purpose of becoming an easy-to-use scripting language, while giving near to C performance speed. I always see it as combination of Python + R + C, while some might think it as Python + Matlab + C\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.7299a7cb.js"}catch(e){main="/client/legacy/client.27d33b89.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script> function trim(text, val) {
		return text.replace(new RegExp('^'+val+'+|'+val+'+$','g'), '');
	}
	if (document.title === "Not Found") {
		let paths = trim(window.location.pathname, "/").split("-@");
		if (paths.length > 1) {
			fetch(`/blogposts/shortener-${paths[paths.length - 1]}.json`)
			.then((data) => {
				return data.json()
			})
			.then((data) => {
				window.location.replace(`/blogposts/${data.slug}`);
			})
			.catch((err) => {
				console.log(err);
			})
		}
	} </script> 