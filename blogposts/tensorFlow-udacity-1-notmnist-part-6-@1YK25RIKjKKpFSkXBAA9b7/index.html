<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=css/global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.ico rel=icon type=image/png> <link href=client/main.963202101.css rel=stylesheet><link href=client/[slug].c5e1bfa6.css rel=stylesheet><link href=client/app.cb0df2a4.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>TensorFlow Udacity 1_notmnist - Part 6</title> <meta content="Author: Liam, Date: 23 Apr, 2016\n Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact ipynb file at Tensorflow Github Repo.
" name=description> <meta content=article name=og:type> <meta content=https://leliam.com/blogposts/tensorFlow-udacity-1-notmnist-part-6-@1YK25RIKjKKpFSkXBAA9b7 name=og:url> <meta content="TensorFlow Udacity 1_notmnist - Part 6" name=og:title> <meta content="Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact ipynb file at Tensorflow Github Repo.\n" name=og:description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div style="min-height:calc(100vh - 48px)"> <nav aria-label="main navigation" class="svelte-1dif8ux navbar" role=navigation> <div class=navbar-brand> <a href=/ class="svelte-1dif8ux navbar-item" style=margin:5px><div class="is-4 subtitle">Le Liam</div></a> <a href=/ class="svelte-1dif8ux navbar-item">Home</a> <a href=/tags class="svelte-1dif8ux navbar-item">Tags</a> <a href=/blogposts class="svelte-1dif8ux navbar-item is-active">Blogposts</a> <a href=/contact class="svelte-1dif8ux navbar-item">Contact</a> </div> </nav> <main> <div class="container is-fluid"> <div class=media style="margin:25px 0"> <div class=media-left> <figure class="image is-48x48"> <img alt="Author avatar" loading=lazy src=/assets/32x32_avatar.jpg class=is-rounded> </figure> </div> <div class=media-content> <p class="is-4 title">Liam</p> <p class="subtitle is-6">23 Apr, 2016</p> </div> </div> <div style="margin:0 0 25px"> <img alt="blogpost banner" loading=lazy src=/assets/2016031900.png style="margin:0 auto;display:block"> </div> <h3 class=title>TensorFlow Udacity 1_notmnist - Part 6</h3> <div class="content svelte-nn94v0"> <h2>Summary of 1_notmnist</h2> <p>Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact <a href=https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/1_notmnist.ipynb>ipynb file at Tensorflow Github Repo</a>.</p> <h2>Notice</h2> <p>This is as a form of sharing and discuss on better way to solve 1_notmnist problem. Do not copy and paste directly as it does not help on improving yourself + the answer is not optimized.</p> <p>The entire series of TensorFlow Udacity can be found at <a href=https://www.leliam.com/tag/tensorflow-udacity>tensorflow-udacity tag</a></p> <h2>Solving Problem 6</h2> <pre class=hljs><code><span class=hljs-function><span class=hljs-keyword>def</span> <span class=hljs-title>reshape</span><span class=hljs-params>(a)</span>:</span>
    <span class=hljs-keyword>return</span> a.reshape(a.shape[<span class=hljs-number>0</span>],a.shape[<span class=hljs-number>1</span>]*a.shape[<span class=hljs-number>2</span>])
t = pickle.load(open(<span class=hljs-string>"notMNIST.pickle"</span>, <span class=hljs-string>"r"</span>))
y = t[<span class=hljs-string>'train_labels'</span>]
X = reshape(t[<span class=hljs-string>'train_dataset'</span>]) <span class=hljs-comment># reshape it to 2d array</span>
<span class=hljs-keyword>del</span>(t) <span class=hljs-comment># this should free up more memory spaces</span>
<span class=hljs-comment># choose form 0:10000 because not enough memory for the docker</span>
<span class=hljs-comment># probably a way to do batch learning with scikit-learn</span>
<span class=hljs-comment># http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html</span>
<span class=hljs-comment># http://scikit-learn.org/stable/auto_examples/classification/plot_classification_probability.html</span>
C = <span class=hljs-number>1.0</span>
classifier = LogisticRegression(C=C, penalty=<span class=hljs-string>'l1'</span>)
classifier.fit(X[<span class=hljs-number>0</span>:<span class=hljs-number>10000</span>], y[<span class=hljs-number>0</span>:<span class=hljs-number>10000</span>])
y_pred = classifier.predict(X)
classif_rate = np.mean(y_pred.ravel() == y.ravel()) * <span class=hljs-number>100</span>
print(<span class=hljs-string>"classif_rate for %f "</span> % (classif_rate))
<span class=hljs-comment># we now see how it is predicted using sample 10001 to 20000, which is not used for training</span>
<span class=hljs-comment># actually should calculate the accuracy in percentage.</span>
print(y[<span class=hljs-number>10001</span>:<span class=hljs-number>20000</span>])
print(y_pred[<span class=hljs-number>10001</span>:<span class=hljs-number>20000</span>])
</code></pre> <p><img alt=png loading=lazy src=/assets/2016042300.png></p> <h2>Comment</h2> <p>This time we have learnt how to use scikit-learn to do LogisticRegression for notMNIST. As we can see, the classification accuracy is still not bad.</p> <p>I will expect that tensorflow is either faster and more structured compared to this solution (or google probably will not use this as an example)</p> </div> </div> </main> </div> <footer style=height:48px;padding:10px> <div class="content has-text-centered"> <a href=/privacy-policy>privacy policy</a> · ©2018-2020 Le Liam · <a href=/terms-of-service>TOS</a> </div> </footer></div> <script crossorigin=anonymous src="https://polyfill.io/v3/polyfill.min.js?features=fetch%2CPromise"></script> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{slug:"tensorFlow-udacity-1-notmnist-part-6-@1YK25RIKjKKpFSkXBAA9b7",title:"TensorFlow Udacity 1_notmnist - Part 6",description:"\u003Cp\u003EBasically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftensorflow\u002Ftensorflow\u002Fblob\u002Fmaster\u002Ftensorflow\u002Fexamples\u002Fudacity\u002F1_notmnist.ipynb\"\u003Eipynb file at Tensorflow Github Repo\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n",banner:"\u002Fassets\u002F2016031900.png",author:{avatar:"\u002Fassets\u002F32x32_avatar.jpg",name:"Liam"},data:"\u003Ch2\u003ESummary of 1_notmnist\u003C\u002Fh2\u003E\n\u003Cp\u003EBasically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftensorflow\u002Ftensorflow\u002Fblob\u002Fmaster\u002Ftensorflow\u002Fexamples\u002Fudacity\u002F1_notmnist.ipynb\"\u003Eipynb file at Tensorflow Github Repo\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch2\u003ENotice\u003C\u002Fh2\u003E\n\u003Cp\u003EThis is as a form of sharing and discuss on better way to solve 1_notmnist problem. Do not copy and paste directly as it does not help on improving yourself + the answer is not optimized.\u003C\u002Fp\u003E\n\u003Cp\u003EThe entire series of TensorFlow Udacity can be found at \u003Ca href=\"https:\u002F\u002Fwww.leliam.com\u002Ftag\u002Ftensorflow-udacity\"\u003Etensorflow-udacity tag\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003ESolving Problem 6\u003C\u002Fh2\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Ereshape\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(a)\u003C\u002Fspan\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E a.reshape(a.shape[\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E],a.shape[\u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E]*a.shape[\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E])\nt = pickle.load(open(\u003Cspan class=\"hljs-string\"\u003E\"notMNIST.pickle\"\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E\"r\"\u003C\u002Fspan\u003E))\ny = t[\u003Cspan class=\"hljs-string\"\u003E'train_labels'\u003C\u002Fspan\u003E]\nX = reshape(t[\u003Cspan class=\"hljs-string\"\u003E'train_dataset'\u003C\u002Fspan\u003E]) \u003Cspan class=\"hljs-comment\"\u003E# reshape it to 2d array\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Edel\u003C\u002Fspan\u003E(t) \u003Cspan class=\"hljs-comment\"\u003E# this should free up more memory spaces\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E# choose form 0:10000 because not enough memory for the docker\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E# probably a way to do batch learning with scikit-learn\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E# http:\u002F\u002Fscikit-learn.org\u002Fstable\u002Fmodules\u002Fgenerated\u002Fsklearn.linear_model.LogisticRegression.html\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E# http:\u002F\u002Fscikit-learn.org\u002Fstable\u002Fauto_examples\u002Fclassification\u002Fplot_classification_probability.html\u003C\u002Fspan\u003E\nC = \u003Cspan class=\"hljs-number\"\u003E1.0\u003C\u002Fspan\u003E\nclassifier = LogisticRegression(C=C, penalty=\u003Cspan class=\"hljs-string\"\u003E'l1'\u003C\u002Fspan\u003E)\nclassifier.fit(X[\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-number\"\u003E10000\u003C\u002Fspan\u003E], y[\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-number\"\u003E10000\u003C\u002Fspan\u003E])\ny_pred = classifier.predict(X)\nclassif_rate = np.mean(y_pred.ravel() == y.ravel()) * \u003Cspan class=\"hljs-number\"\u003E100\u003C\u002Fspan\u003E\nprint(\u003Cspan class=\"hljs-string\"\u003E\"classif_rate for %f \"\u003C\u002Fspan\u003E % (classif_rate))\n\u003Cspan class=\"hljs-comment\"\u003E# we now see how it is predicted using sample 10001 to 20000, which is not used for training\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E# actually should calculate the accuracy in percentage.\u003C\u002Fspan\u003E\nprint(y[\u003Cspan class=\"hljs-number\"\u003E10001\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-number\"\u003E20000\u003C\u002Fspan\u003E])\nprint(y_pred[\u003Cspan class=\"hljs-number\"\u003E10001\u003C\u002Fspan\u003E:\u003Cspan class=\"hljs-number\"\u003E20000\u003C\u002Fspan\u003E])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Cimg src=\"\u002Fassets\u002F2016042300.png\" alt=\"png\" loading=\"lazy\"\u003E\u003C\u002Fp\u003E\n\u003Ch2\u003EComment\u003C\u002Fh2\u003E\n\u003Cp\u003EThis time we have learnt how to use scikit-learn to do LogisticRegression for notMNIST. As we can see, the classification accuracy is still not bad.\u003C\u002Fp\u003E\n\u003Cp\u003EI will expect that tensorflow is either faster and more structured compared to this solution (or google probably will not use this as an example)\u003C\u002Fp\u003E\n",postedAt:"23 Apr, 2016",metaDescription:"Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact ipynb file at Tensorflow Github Repo.\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.fce05c27.js"}catch(e){main="/client/legacy/client.ce42430a.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 