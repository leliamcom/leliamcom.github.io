<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <base href=/ > <link href=css/global.css rel=stylesheet> <link href=manifest.json rel=manifest> <link href=favicon.ico rel=icon type=image/png> <link href=client/main.963202101.css rel=stylesheet><link href=client/[slug].c5e1bfa6.css rel=stylesheet><link href=client/app.cb0df2a4.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Rust For Web Development Part 1</title> <meta content="Author: Liam, Date: 01 Feb, 2018\n With the asynchronous I/O libraries of Rust is mostly ready, Rust can  serve web traffic without being I/O bound. However, the only downside is that framework is not mature yet.
Edit on year Jun 19, 2018
Project has been discontinued due to Rust still does not support Async/Await which i think is crucial for web development
" name=description> <meta content=article name=og:type> <meta content=https://leliam.com/blogposts/rust-for-web-development-part-1-@2drzAZroGCNwXVsQcWtcM0 name=og:url> <meta content="Rust For Web Development Part 1" name=og:title> <meta content="With the asynchronous I/O libraries of Rust is mostly ready, Rust can  serve web traffic without being I/O bound. However, the only downside is that framework is not mature yet.\nEdit on year Jun 19, 2018\nProject has been discontinued due to Rust still does not support Async/Await which i think is crucial for web development\n" name=og:description><noscript id=sapper-head-end></noscript> </head> <body> <div id=sapper> <div style="min-height:calc(100vh - 48px)"> <nav aria-label="main navigation" class="svelte-1dif8ux navbar" role=navigation> <div class=navbar-brand> <a href=/ class="svelte-1dif8ux navbar-item" style=margin:5px><div class="is-4 subtitle">Le Liam</div></a> <a href=/ class="svelte-1dif8ux navbar-item">Home</a> <a href=/tags class="svelte-1dif8ux navbar-item">Tags</a> <a href=/blogposts class="svelte-1dif8ux navbar-item is-active">Blogposts</a> <a href=/contact class="svelte-1dif8ux navbar-item">Contact</a> </div> </nav> <main> <div class="container is-fluid"> <div class=media style="margin:25px 0"> <div class=media-left> <figure class="image is-48x48"> <img alt="Author avatar" class=is-rounded loading=lazy src=/assets/32x32_avatar.jpg> </figure> </div> <div class=media-content> <p class="is-4 title">Liam</p> <p class="subtitle is-6">01 Feb, 2018</p> </div> </div> <h3 class=title>Rust For Web Development Part 1</h3> <div class="content svelte-nn94v0"> <h2>Edit on year Jun 19, 2018</h2> <p>Project has been discontinued due to Rust still does not support Async/Await which i think is crucial for web development</p> <h2>Intro</h2> <p>If you ask what is the rising star of programming language, it will be rust for recent year.</p> <h2>Potential of Rust in Web Development</h2> <ul> <li>Execution Speed</li> <li>No garbage collection (as compared to JAVA or GO web development)</li> <li>Build in code safety</li> <li>Compile to binary</li> </ul> <h2>Is 2018 the right time to use Rust for web development?</h2> <p>With the asynchronous I/O libraries of Rust is mostly ready, Rust can serve web traffic without being I/O bound. However, the only downside is that framework is not mature yet.</p> <h2>Top Web Development Framework For Rust</h2> <ul> <li>Iron: Not much investigate into it, but seems like not as maintained as Rocket</li> <li>Rocket: Currently(0.3.6) is build on synchronous HTTP backend. Provide higher level of abstraction however has less control on what you can do.</li> <li>Hyper: Hyper(0.11) is multithreaded asynchronous low-level typesafe abstraction over raw HTTP. However the example on it is not much and too low-level.</li> </ul> <h2>Time for Develop a new Framework?</h2> <p>Well I actually think making a wrapper on top of Hyper will be good enough! I currently name it as <a href=https://github.com/nghenglim/hyperap>Hyperap</a> and published it to <a href=https://github.com/nghenglim/hyperap>Github</a>! Have not publish to crates.io yet because I have some issue login into it.</p> <p>The code is still in development, I plan to use it as the main framework for my pet project.</p> <h2>Example Usage</h2> <p>To test it (assumed you have rust cargo installed)</p> <pre class=hljs><code>git <span class=hljs-built_in>clone</span> https://github.com/nghenglim/hyperap
<span class=hljs-built_in>cd</span> hyperap && cargo run
</code></pre> <pre class=hljs><code><span class=hljs-keyword>extern</span> <span class=hljs-keyword>crate</span> hyperap;
<span class=hljs-keyword>use</span> hyperap::hyper::server::{Response};
<span class=hljs-keyword>use</span> hyperap::hyper::{Method};
<span class=hljs-keyword>use</span> hyperap::server::{HyperApp, Middleware, MiddlewareParam};
<span class=hljs-keyword>use</span> hyperap::response::{resp};

<span class=hljs-function><span class=hljs-keyword>fn</span> <span class=hljs-title>get_static</span></span>(_a: MiddlewareResult) -> Response {
    hyperap::server::static_file(<span class=hljs-string>"Cargo.toml"</span>)
}
<span class=hljs-function><span class=hljs-keyword>fn</span> <span class=hljs-title>hello_world</span></span>(a: MiddlewareResult) -> Response {
    resp(a.hello.clone() + <span class=hljs-string>" at path "</span> + &a.path)
}
<span class=hljs-function><span class=hljs-keyword>fn</span> <span class=hljs-title>not_found_route</span></span>(a: MiddlewareResult) -> Response {
    resp(<span class=hljs-string>"not found route at path "</span>.to_owned() + &a.path)
}
<span class=hljs-keyword>pub</span> <span class=hljs-class><span class=hljs-keyword>struct</span> <span class=hljs-title>App</span></span> {
    <span class=hljs-keyword>pub</span> hello: <span class=hljs-built_in>String</span>,
}
<span class=hljs-keyword>pub</span> <span class=hljs-class><span class=hljs-keyword>struct</span> <span class=hljs-title>MiddlewareResult</span></span> {
    path: <span class=hljs-built_in>String</span>,
    <span class=hljs-keyword>pub</span> hello: <span class=hljs-built_in>String</span>,
}
<span class=hljs-meta>#[derive(Clone)]</span>
<span class=hljs-keyword>pub</span> <span class=hljs-class><span class=hljs-keyword>struct</span> <span class=hljs-title>RouteDefinition</span></span> {
    parameters: <span class=hljs-built_in>Vec</span>&lt;RouteDefinitionParameters>
}
<span class=hljs-meta>#[derive(Clone)]</span>
<span class=hljs-keyword>pub</span> <span class=hljs-class><span class=hljs-keyword>struct</span> <span class=hljs-title>RouteDefinitionParameters</span></span> {
    _<span class=hljs-keyword>in</span>: <span class=hljs-built_in>String</span>,
    _name: <span class=hljs-built_in>String</span>,
}
<span class=hljs-keyword>impl</span> Middleware <span class=hljs-keyword>for</span> App {
    <span class=hljs-class><span class=hljs-keyword>type</span> <span class=hljs-title>M</span></span> = MiddlewareResult;
    <span class=hljs-class><span class=hljs-keyword>type</span> <span class=hljs-title>R</span></span> = RouteDefinition;
    <span class=hljs-function><span class=hljs-keyword>fn</span> <span class=hljs-title>middleware</span></span>(&<span class=hljs-keyword>self</span>, p: MiddlewareParam&lt;MiddlewareResult, Self::R>) -> Response {
        <span class=hljs-keyword>let</span> m = MiddlewareResult {
            path: p.req.path().to_owned(),
            hello: <span class=hljs-keyword>self</span>.hello.clone(),
        };
        (p.func)(m)
    }
}
<span class=hljs-function><span class=hljs-keyword>fn</span> <span class=hljs-title>main</span></span>() {
    <span class=hljs-keyword>let</span> the_app = App {
        hello: <span class=hljs-string>"Hello World"</span>.to_owned(),
    };
    <span class=hljs-keyword>let</span> <span class=hljs-keyword>mut</span> app = HyperApp::new(the_app);
    app.open_browser(<span class=hljs-literal>true</span>);
    app.set_default_route(not_found_route);
    app.add_route(Method::Get, <span class=hljs-string>"/static"</span>, get_static, <span class=hljs-built_in>vec!</span>[RouteDefinition {
        parameters: <span class=hljs-built_in>vec!</span>[RouteDefinitionParameters {
            _<span class=hljs-keyword>in</span>: <span class=hljs-string>"query"</span>.to_owned(),
            _name: <span class=hljs-string>"offset"</span>.to_owned(),
        }]
    }]);
    app.add_pure_route(Method::Get, <span class=hljs-string>"/"</span>, hello_world);
    app.port(<span class=hljs-number>3000</span>);
    app.run();
}
</code></pre> <h2>Other critical part in web development</h2> <ul> <li>ORM: with feature similar to <a href=https://github.com/sequelize/sequelize>Sequelize</a></li> <li>Query builder There seems to be some libraries for it, however coming from NodeJS, the feature that these libraries just cannot fulfill my need.</li> </ul> <p>I'm currently working on making a rust ORM library. However most probably will remain as my private repo unless a lot of people interested on it.</p> </div> </div> </main> </div> <footer style=height:48px;padding:10px> <div class="content has-text-centered"> <a href=/privacy-policy>privacy policy</a> · ©2018-2020 Le Liam · <a href=/terms-of-service>TOS</a> </div> </footer></div> <script crossorigin=anonymous src="https://polyfill.io/v3/polyfill.min.js?features=fetch%2CPromise"></script> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{slug:"rust-for-web-development-part-1-@2drzAZroGCNwXVsQcWtcM0",title:"Rust For Web Development Part 1",description:"\u003Cp\u003EWith the asynchronous I\u002FO libraries of Rust is mostly ready, Rust can  serve web traffic without being I\u002FO bound. However, the only downside is that framework is not mature yet.\u003C\u002Fp\u003E\n\u003Ch3\u003EEdit on year Jun 19, 2018\u003C\u002Fh3\u003E\n\u003Cp\u003EProject has been discontinued due to Rust still does not support Async\u002FAwait which i think is crucial for web development\u003C\u002Fp\u003E\n",banner:null,author:{avatar:"\u002Fassets\u002F32x32_avatar.jpg",name:"Liam"},data:"\u003Ch2\u003EEdit on year Jun 19, 2018\u003C\u002Fh2\u003E\n\u003Cp\u003EProject has been discontinued due to Rust still does not support Async\u002FAwait which i think is crucial for web development\u003C\u002Fp\u003E\n\u003Ch2\u003EIntro\u003C\u002Fh2\u003E\n\u003Cp\u003EIf you ask what is the rising star of programming language, it will be rust for recent year.\u003C\u002Fp\u003E\n\u003Ch2\u003EPotential of Rust in Web Development\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EExecution Speed\u003C\u002Fli\u003E\n\u003Cli\u003ENo garbage collection (as compared to JAVA or GO web development)\u003C\u002Fli\u003E\n\u003Cli\u003EBuild in code safety\u003C\u002Fli\u003E\n\u003Cli\u003ECompile to binary\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003EIs 2018 the right time to use Rust for web development?\u003C\u002Fh2\u003E\n\u003Cp\u003EWith the asynchronous I\u002FO libraries of Rust is mostly ready, Rust can  serve web traffic without being I\u002FO bound. However, the only downside is that framework is not mature yet.\u003C\u002Fp\u003E\n\u003Ch2\u003ETop Web Development Framework For Rust\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EIron: Not much investigate into it, but seems like not as maintained as Rocket\u003C\u002Fli\u003E\n\u003Cli\u003ERocket: Currently(0.3.6) is build on synchronous HTTP backend. Provide higher level of abstraction however has less control on what you can do.\u003C\u002Fli\u003E\n\u003Cli\u003EHyper: Hyper(0.11) is multithreaded asynchronous low-level typesafe abstraction over raw HTTP. However the example on it is not much and too low-level.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003ETime for Develop a new Framework?\u003C\u002Fh2\u003E\n\u003Cp\u003EWell I actually think making a wrapper on top of Hyper will be good enough! I currently name it as \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnghenglim\u002Fhyperap\"\u003EHyperap\u003C\u002Fa\u003E and published it to \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnghenglim\u002Fhyperap\"\u003EGithub\u003C\u002Fa\u003E! Have not publish to crates.io yet because I have some issue login into it.\u003C\u002Fp\u003E\n\u003Cp\u003EThe code is still in development, I plan to use it as the main framework for my pet project.\u003C\u002Fp\u003E\n\u003Ch2\u003EExample Usage\u003C\u002Fh2\u003E\n\u003Cp\u003ETo test it (assumed you have rust cargo installed)\u003C\u002Fp\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003Egit \u003Cspan class=\"hljs-built_in\"\u003Eclone\u003C\u002Fspan\u003E https:\u002F\u002Fgithub.com\u002Fnghenglim\u002Fhyperap\n\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E hyperap &amp;&amp; cargo run\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre class=\"hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-keyword\"\u003Eextern\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Ecrate\u003C\u002Fspan\u003E hyperap;\n\u003Cspan class=\"hljs-keyword\"\u003Euse\u003C\u002Fspan\u003E hyperap::hyper::server::{Response};\n\u003Cspan class=\"hljs-keyword\"\u003Euse\u003C\u002Fspan\u003E hyperap::hyper::{Method};\n\u003Cspan class=\"hljs-keyword\"\u003Euse\u003C\u002Fspan\u003E hyperap::server::{HyperApp, Middleware, MiddlewareParam};\n\u003Cspan class=\"hljs-keyword\"\u003Euse\u003C\u002Fspan\u003E hyperap::response::{resp};\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Eget_static\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E(_a: MiddlewareResult) -&gt; Response {\n    hyperap::server::static_file(\u003Cspan class=\"hljs-string\"\u003E\"Cargo.toml\"\u003C\u002Fspan\u003E)\n}\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Ehello_world\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E(a: MiddlewareResult) -&gt; Response {\n    resp(a.hello.clone() + \u003Cspan class=\"hljs-string\"\u003E\" at path \"\u003C\u002Fspan\u003E + &amp;a.path)\n}\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Enot_found_route\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E(a: MiddlewareResult) -&gt; Response {\n    resp(\u003Cspan class=\"hljs-string\"\u003E\"not found route at path \"\u003C\u002Fspan\u003E.to_owned() + &amp;a.path)\n}\n\u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Estruct\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EApp\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E hello: \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E,\n}\n\u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Estruct\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EMiddlewareResult\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n    path: \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E hello: \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E,\n}\n\u003Cspan class=\"hljs-meta\"\u003E#[derive(Clone)]\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Estruct\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ERouteDefinition\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n    parameters: \u003Cspan class=\"hljs-built_in\"\u003EVec\u003C\u002Fspan\u003E&lt;RouteDefinitionParameters&gt;\n}\n\u003Cspan class=\"hljs-meta\"\u003E#[derive(Clone)]\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Epub\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Estruct\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ERouteDefinitionParameters\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n    _\u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E,\n    _name: \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E,\n}\n\u003Cspan class=\"hljs-keyword\"\u003Eimpl\u003C\u002Fspan\u003E Middleware \u003Cspan class=\"hljs-keyword\"\u003Efor\u003C\u002Fspan\u003E App {\n    \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EM\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E = MiddlewareResult;\n    \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ER\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E = RouteDefinition;\n    \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Emiddleware\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E(&amp;\u003Cspan class=\"hljs-keyword\"\u003Eself\u003C\u002Fspan\u003E, p: MiddlewareParam&lt;MiddlewareResult, Self::R&gt;) -&gt; Response {\n        \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E m = MiddlewareResult {\n            path: p.req.path().to_owned(),\n            hello: \u003Cspan class=\"hljs-keyword\"\u003Eself\u003C\u002Fspan\u003E.hello.clone(),\n        };\n        (p.func)(m)\n    }\n}\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Emain\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E() {\n    \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E the_app = App {\n        hello: \u003Cspan class=\"hljs-string\"\u003E\"Hello World\"\u003C\u002Fspan\u003E.to_owned(),\n    };\n    \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Emut\u003C\u002Fspan\u003E app = HyperApp::new(the_app);\n    app.open_browser(\u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E);\n    app.set_default_route(not_found_route);\n    app.add_route(Method::Get, \u003Cspan class=\"hljs-string\"\u003E\"\u002Fstatic\"\u003C\u002Fspan\u003E, get_static, \u003Cspan class=\"hljs-built_in\"\u003Evec!\u003C\u002Fspan\u003E[RouteDefinition {\n        parameters: \u003Cspan class=\"hljs-built_in\"\u003Evec!\u003C\u002Fspan\u003E[RouteDefinitionParameters {\n            _\u003Cspan class=\"hljs-keyword\"\u003Ein\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"query\"\u003C\u002Fspan\u003E.to_owned(),\n            _name: \u003Cspan class=\"hljs-string\"\u003E\"offset\"\u003C\u002Fspan\u003E.to_owned(),\n        }]\n    }]);\n    app.add_pure_route(Method::Get, \u003Cspan class=\"hljs-string\"\u003E\"\u002F\"\u003C\u002Fspan\u003E, hello_world);\n    app.port(\u003Cspan class=\"hljs-number\"\u003E3000\u003C\u002Fspan\u003E);\n    app.run();\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2\u003EOther critical part in web development\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EORM: with feature similar to \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsequelize\u002Fsequelize\"\u003ESequelize\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EQuery builder\nThere seems to be some libraries for it, however coming from NodeJS, the feature that these libraries just cannot fulfill my need.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EI'm currently working on making a rust ORM library. However most probably will remain as my private repo unless a lot of people interested on it.\u003C\u002Fp\u003E\n",postedAt:"01 Feb, 2018",metaDescription:"With the asynchronous I\u002FO libraries of Rust is mostly ready, Rust can  serve web traffic without being I\u002FO bound. However, the only downside is that framework is not mature yet.\nEdit on year Jun 19, 2018\nProject has been discontinued due to Rust still does not support Async\u002FAwait which i think is crucial for web development\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.fce05c27.js"}catch(e){main="/client/legacy/client.ce42430a.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 