import{a as t,b as n,c as a,d as s,i as e,s as o,e as r,S as c,g as i,f as l,m as u,h,o as p,r as f,l as m,j as d,p as g,u as v,G as b,t as E,k as A,H as x,n as y,P as D}from"./index.49303299.js";import{_ as j}from"./slicedToArray.f13a096f.js";import{_ as I,a as M}from"./asyncToGenerator.158bdab7.js";import{a as T}from"./app.0084af3f.js";function V(t){var n,a,s,e,o,r,c,d,g,v,b,E,A,x,y;return document.title=n=t[0].title,{c:function(){a=i(),s=l("meta"),o=i(),r=l("meta"),c=i(),d=l("meta"),v=i(),b=l("meta"),A=i(),x=l("meta"),this.h()},l:function(t){a=u(t),s=h(t,"META",{name:!0,content:!0}),o=u(t),r=h(t,"META",{name:!0,content:!0}),c=u(t),d=h(t,"META",{name:!0,content:!0}),v=u(t),b=h(t,"META",{name:!0,content:!0}),A=u(t),x=h(t,"META",{name:!0,content:!0}),this.h()},h:function(){p(s,"name","description"),p(s,"content",e="Author: "+t[0].author.name+", Date: "+t[0].postedAt+"\\n "+t[0].metaDescription),p(r,"name","og:type"),p(r,"content","article"),p(d,"name","og:url"),p(d,"content",g="https://leliam.com/blogposts/"+t[0].slug),p(b,"name","og:title"),p(b,"content",E=t[0].title),p(x,"name","og:description"),p(x,"content",y=t[0].metaDescription)},m:function(t,n){f(t,a,n),f(t,s,n),f(t,o,n),f(t,r,n),f(t,c,n),f(t,d,n),f(t,v,n),f(t,b,n),f(t,A,n),f(t,x,n)},p:function(t,a){1&a&&n!==(n=t[0].title)&&(document.title=n),1&a&&e!==(e="Author: "+t[0].author.name+", Date: "+t[0].postedAt+"\\n "+t[0].metaDescription)&&p(s,"content",e),1&a&&g!==(g="https://leliam.com/blogposts/"+t[0].slug)&&p(d,"content",g),1&a&&E!==(E=t[0].title)&&p(b,"content",E),1&a&&y!==(y=t[0].metaDescription)&&p(x,"content",y)},d:function(t){t&&m(a),t&&m(s),t&&m(o),t&&m(r),t&&m(c),t&&m(d),t&&m(v),t&&m(b),t&&m(A),t&&m(x)}}}function k(t){var n,a,s;return{c:function(){n=l("div"),a=l("img"),this.h()},l:function(t){n=h(t,"DIV",{style:!0});var s=d(n);a=h(s,"IMG",{loading:!0,style:!0,src:!0,alt:!0}),s.forEach(m),this.h()},h:function(){p(a,"loading","lazy"),g(a,"margin","0 auto"),g(a,"display","block"),a.src!==(s=t[0].banner)&&p(a,"src",s),p(a,"alt","blogpost banner"),g(n,"margin","0 0 25px")},m:function(t,s){f(t,n,s),v(n,a)},p:function(t,n){1&n&&a.src!==(s=t[0].banner)&&p(a,"src",s)},d:function(t){t&&m(n)}}}function w(t){var n,a,s,e,o,r,c,D,I,M,T,w,G,H,P,z,F,L,N,R,$,_=t[0].author.name+"",q=t[0].postedAt+"",S=t[0].title+"",U=t[0].data+"",B=t[0]&&V(t),C=t[0].banner&&k(t);return{c:function(){B&&B.c(),n=b(),a=i(),s=l("div"),e=l("div"),o=l("div"),r=l("figure"),c=l("img"),I=i(),M=l("div"),T=l("p"),w=E(_),G=i(),H=l("p"),P=E(q),z=i(),C&&C.c(),F=i(),L=l("h3"),N=E(S),R=i(),$=l("div"),this.h()},l:function(t){B&&B.l(t),n=b(),a=u(t),s=h(t,"DIV",{class:!0});var i=d(s);e=h(i,"DIV",{class:!0,style:!0});var l=d(e);o=h(l,"DIV",{class:!0});var p=d(o);r=h(p,"FIGURE",{class:!0});var f=d(r);c=h(f,"IMG",{loading:!0,class:!0,src:!0,alt:!0}),f.forEach(m),p.forEach(m),I=u(l),M=h(l,"DIV",{class:!0});var g=d(M);T=h(g,"P",{class:!0});var v=d(T);w=A(v,_),v.forEach(m),G=u(g),H=h(g,"P",{class:!0});var E=d(H);P=A(E,q),E.forEach(m),g.forEach(m),l.forEach(m),z=u(i),C&&C.l(i),F=u(i),L=h(i,"H3",{class:!0});var x=d(L);N=A(x,S),x.forEach(m),R=u(i),$=h(i,"DIV",{class:!0}),d($).forEach(m),i.forEach(m),this.h()},h:function(){p(c,"loading","lazy"),p(c,"class","is-rounded"),c.src!==(D=t[0].author.avatar)&&p(c,"src",D),p(c,"alt","Author avatar"),p(r,"class","image is-48x48"),p(o,"class","media-left"),p(T,"class","title is-4"),p(H,"class","subtitle is-6"),p(M,"class","media-content"),p(e,"class","media"),g(e,"margin","25px 0"),p(L,"class","title"),p($,"class","content svelte-nn94v0"),p(s,"class","container is-fluid")},m:function(t,i){B&&B.m(document.head,null),v(document.head,n),f(t,a,i),f(t,s,i),v(s,e),v(e,o),v(o,r),v(r,c),v(e,I),v(e,M),v(M,T),v(T,w),v(M,G),v(M,H),v(H,P),v(s,z),C&&C.m(s,null),v(s,F),v(s,L),v(L,N),v(s,R),v(s,$),$.innerHTML=U},p:function(t,a){var e=j(a,1)[0];t[0]?B?B.p(t,e):((B=V(t)).c(),B.m(n.parentNode,n)):B&&(B.d(1),B=null),1&e&&c.src!==(D=t[0].author.avatar)&&p(c,"src",D),1&e&&_!==(_=t[0].author.name+"")&&x(w,_),1&e&&q!==(q=t[0].postedAt+"")&&x(P,q),t[0].banner?C?C.p(t,e):((C=k(t)).c(),C.m(s,F)):C&&(C.d(1),C=null),1&e&&S!==(S=t[0].title+"")&&x(N,S),1&e&&U!==(U=t[0].data+"")&&($.innerHTML=U)},i:y,o:y,d:function(t){B&&B.d(t),m(n),t&&m(a),t&&m(s),C&&C.d()}}}function G(t){return H.apply(this,arguments)}function H(){return(H=I(M.mark(function t(n){var a,s,e,o;return M.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.path,n.params,n.query,1!==(s=a.split("-@")).length){t.next=4;break}return t.abrupt("return",this.error(404,"Not Found"));case 4:return t.next=6,this.fetch("/blogposts/shortener-".concat(s[s.length-1],".json"));case 6:if(200!==(e=t.sent).status){t.next=14;break}return t.next=10,e.json();case 10:return o=t.sent,t.abrupt("return",{post:o});case 14:this.error(e.status,data.message);case 15:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function P(t,n,a){var s,e=T().page;D(t,e,function(t){return a(2,s=t)});var o,r,c=(o=s.path,r="/",o.replace(new RegExp("^"+r+"+|"+r+"+$","g"),"")).split("-@"),i=n.post;return i||c.length>1&&fetch("/blogposts/shortener-".concat(c[c.length-1],".json")).then(function(t){return t.json()}).then(function(t){window.location.replace("/".concat(t.slug))}),t.$set=function(t){"post"in t&&a(0,i=t.post)},[i,e]}export default(function(i){function l(t){var c;return n(this,l),c=a(this,s(l).call(this)),e(r(c),t,P,w,o,{post:0}),c}return t(l,c),l}());export{G as preload};
