(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{N1V6:function(l,t,n){"use strict";n.r(t);var e=n("CcnG"),o=function(){},u=n("pMnS"),s=n("bujt"),i=n("UodH"),r=n("dWZg"),a=n("lLAP"),c=n("wFw1"),p=n("ZYCi"),d=n("Ip0R"),g=n("ZYjt"),h=n("OlE3"),m=n("KTj7"),f=n("kh6X"),b=n("BVzC"),v=n("dqOH"),y=n("tcEi"),w=n("t2X/"),T=n("EWJI"),O=function(l,t,n,e){return new(n||(n=Promise))(function(o,u){function s(l){try{r(e.next(l))}catch(l){u(l)}}function i(l){try{r(e.throw(l))}catch(l){u(l)}}function r(l){l.done?o(l.value):new n(function(t){t(l.value)}).then(s,i)}r((e=e.apply(l,t||[])).next())})},C=function(l,t){var n,e,o,u,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,e&&(o=e[2&u[0]?"return":u[0]?"throw":"next"])&&!(o=o.call(e,u[1])).done)return o;switch(e=0,o&&(u=[0,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=t.call(l,s)}catch(l){u=[6,l],e=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},R=Object(g.l)("blogpost-from_server"),S=Object(g.l)("blogpost-blogpost"),x=Object(g.l)("blogpost-blogHtml"),M=Object(g.l)("blogpost-showType"),_=Object(g.l)("blogpost-userslug"),I=Object(g.l)("blogpost-postslug"),k=Object(g.l)("blogpost-errorMessage"),F=function(){function l(l,t,n,e,o,u,s,i,r,a,c){this.platformId=l,this.renderer=t,this.mditService=n,this.titleService=e,this.route=o,this.datetimeService=u,this.state=s,this.settingService=i,this.apiBlogpostService=r,this.errorService=a,this.meta=c,this.fromServer=!1,this.showType=0,this.errorMessage="",this.blogpost=null,this.blogHtml=null,this.blogpostHref="",this.postslug=null,this.userslug=null,this.mdit=this.mditService.mdit}return l.prototype.ngOnInit=function(){var l=this;this.fromServer=this.state.get(R,!1),this.fromServer&&(this.blogpost=this.state.get(S,null),this.blogHtml=this.state.get(x,null),this.showType=this.state.get(M,0),this.postslug=this.state.get(I,null),this.userslug=this.state.get(_,null),this.errorMessage=this.state.get(k,"")),this.route.params.subscribe(function(t){return O(l,void 0,void 0,function(){var l,n;return C(this,function(e){switch(e.label){case 0:return l=t.userslug||null,this.postslug===(n=t.postslug||null)&&this.userslug===l?[3,2]:[4,this.getBlogpost(l,n)];case 1:e.sent(),e.label=2;case 2:return this.afterGetBlogpost(),[2]}})})})},l.prototype.afterGetBlogpost=function(){var l=this;this.showType===w.c.OK&&this.blogpost?(this.titleService.setTitle(this.blogpost.title),this.blogpostHref="http://www.leliam.com#blogpostId="+this.blogpost.id,this.settingService.isBrowser&&setTimeout(function(){l.initFBComments()},0)):0===this.showType&&(this.showType=w.c.NOT_FOUND)},l.prototype.initFBComments=function(){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",'<div class="fb-comments" data-width="100%" data-href="'+this.blogpostHref+'" data-numposts="5"></div>'),window.FB.XFBML.parse(this.elementRef.nativeElement)},l.prototype.formatPostedAt=function(l){return this.datetimeService.dateFormat(l)},l.prototype.getBlogpost=function(l,t){return O(this,void 0,void 0,function(){var n,e,o,u,s,i;return C(this,function(r){switch(r.label){case 0:n=w.c.OTHER_ERROR,e="",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.apiBlogpostService.getBlogpost(l,t)];case 2:return o=r.sent(),this.blogpost=o,o=this.mdit.render(this.blogpost.data),this.blogHtml=o,this.titleService.setTitle(this.blogpost.title),u="Author: "+this.blogpost.author.name+", Date: "+this.formatPostedAt(this.blogpost.postedAt)+"\n"+y(this.blogpost.description),this.meta.updateTag({name:"description",content:u}),this.meta.updateTag({property:"og:type",content:"article"}),this.meta.updateTag({property:"og:url",content:this.settingService.siteUrl+"/blogpost/"+this.blogpost.id}),this.meta.updateTag({property:"og:title",content:this.blogpost.title}),this.meta.updateTag({property:"og:description",content:u}),n=w.c.OK,[3,4];case 3:return(s=r.sent())instanceof h.b?-1!==s.errorCodes.indexOf(w.b.BLOGPOST_NOT_FOUND)?n=w.c.NOT_FOUND:(e=s.message,n=w.c.OTHER_ERROR):this.errorService.showError(s),[3,4];case 4:return"string"==typeof this.blogpost.coverUrl?((i=this.blogpost.coverUrl).startsWith("/")&&(i=this.settingService.siteUrl+i),this.meta.updateTag({property:"og:image",content:i}),this.meta.updateTag({property:"og:image:url",content:i})):"string"==typeof this.blogpost.bannerUrl&&((i=this.blogpost.bannerUrl).startsWith("/")&&(i=this.settingService.siteUrl+i),this.meta.updateTag({property:"og:image",content:i}),this.meta.updateTag({property:"og:image:url",content:i})),this.showType=n,this.errorMessage=e,this.settingService.isServer&&(this.state.set(S,this.blogpost),this.state.set(x,this.blogHtml),this.state.set(M,this.showType),this.state.set(k,this.errorMessage),this.state.set(I,t),this.state.set(_,l)),[2]}})})},l.prototype.notFoundCode=function(l){return l===w.c.NOT_FOUND},l.prototype.otherErrorCode=function(l){return l===w.c.OTHER_ERROR},l.prototype.okCode=function(l){return l===w.c.OK},l.prototype.getAvatarStyle=function(l){return{"background-image":"url('"+l+"')","background-size":"cover"}},l}(),L=e["\u0275crt"]({encapsulation:0,styles:[["@import url(https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css);.blogpost-inner[_ngcontent-%COMP%]     img{max-width:100%}.banner-img[_ngcontent-%COMP%]{-o-object-fit:contain;object-fit:contain}.td-avatar[_ngcontent-%COMP%]{padding-right:10px}.avatar-small[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;-ms-flex-negative:0;flex-shrink:0}a.tag[_ngcontent-%COMP%]{margin-right:5px}.banner-image-container[_ngcontent-%COMP%]{text-align:center}.banner-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px}"]],data:{}});function P(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","container"],["style","text-align:center"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"h1",[["style","padding-top: 50px;font-size: 100px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["404"])),(l()(),e["\u0275eld"](3,0,null,null,1,"h2",[["style","padding-top: 30px;font-size: 40px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["We couldn\u2019t find this page."]))],null,null)}function E(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275ted"](1,null,[" ","\n"]))],null,function(l,t){l(t,1,0,t.component.errorMessage)})}function U(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,t){l(t,0,0,t.component.blogpost.bannerUrl)})}function $(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"a",[["class","tag"],["color","accent"],["mat-stroked-button",""]],[[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null],[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,t,n){var o=!0;return"click"===t&&(o=!1!==e["\u0275nov"](l,1)._haltDisabledEvents(n)&&o),"click"===t&&(o=!1!==e["\u0275nov"](l,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&o),o},s.c,s.a)),e["\u0275did"](1,180224,null,0,i.a,[r.a,a.h,e.ElementRef,[2,c.a]],{color:[0,"color"]},null),e["\u0275did"](2,671744,null,0,p.n,[p.l,p.a,d.h],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](3,2),(l()(),e["\u0275ted"](4,0,["",""]))],function(l,t){l(t,1,0,"accent"),l(t,2,0,l(t,3,0,"/tag",t.context.$implicit))},function(l,t){l(t,0,0,e["\u0275nov"](t,1).disabled?-1:0,e["\u0275nov"](t,1).disabled||null,e["\u0275nov"](t,1).disabled.toString(),"NoopAnimations"===e["\u0275nov"](t,1)._animationMode,e["\u0275nov"](t,2).target,e["\u0275nov"](t,2).href),l(t,4,0,t.context.$implicit)})}function j(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,28,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,23,"div",[["class","main-bg"],["style","padding-bottom:20px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,11,"table",[],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,10,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,2,"td",[["class","td-avatar"],["rowspan","2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](8,0,null,null,1,"div",[["class","avatar-small"]],null,null,null,null,null)),e["\u0275did"](9,278528,null,0,d.n,[e.KeyValueDiffers,e.ElementRef,e.Renderer2],{ngStyle:[0,"ngStyle"]},null),(l()(),e["\u0275eld"](10,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](11,null,["",""])),(l()(),e["\u0275eld"](12,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,2,"td",[["style","color:rgba(0,0,0,.54)"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e["\u0275ted"](15,null,["",""])),(l()(),e["\u0275eld"](16,0,null,null,2,"div",[["class","banner-image-container"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,U)),e["\u0275did"](18,16384,null,0,d.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](19,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275eld"](20,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e["\u0275ted"](21,null,[" "," "])),(l()(),e["\u0275eld"](22,0,null,null,0,"div",[["class","blogpost-inner"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,$)),e["\u0275did"](24,802816,null,0,d.j,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](25,0,null,null,3,"div",[["class","container"],["style","padding-top:20px"]],null,null,null,null,null)),(l()(),e["\u0275eld"](26,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Comments"])),(l()(),e["\u0275eld"](28,0,[[1,0],["fbComments",1]],null,0,"div",[],null,null,null,null,null))],function(l,t){var n=t.component;l(t,9,0,n.getAvatarStyle(n.blogpost.author.avatar)),l(t,18,0,n.blogpost.bannerUrl),l(t,24,0,n.blogpost.tags)},function(l,t){var n=t.component;l(t,11,0,n.blogpost.author.name),l(t,15,0,n.formatPostedAt(n.blogpost.postedAt)),l(t,21,0,n.blogpost.title),l(t,22,0,n.blogHtml)})}function A(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,j)),e["\u0275did"](2,16384,null,0,d.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,t){l(t,2,0,t.component.blogpost)},null)}function B(l){return e["\u0275vid"](0,[e["\u0275qud"](671088640,1,{elementRef:0}),(l()(),e["\u0275and"](16777216,null,null,1,null,P)),e["\u0275did"](2,16384,null,0,d.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,E)),e["\u0275did"](4,16384,null,0,d.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,A)),e["\u0275did"](6,16384,null,0,d.k,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,t){var n=t.component;l(t,2,0,n.notFoundCode(n.showType)),l(t,4,0,n.otherErrorCode(n.showType)),l(t,6,0,n.okCode(n.showType))},null)}var H=e["\u0275ccf"]("app-blogpost",F,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-blogpost",[],null,null,null,B,L)),e["\u0275did"](1,114688,null,0,F,[e.PLATFORM_ID,e.Renderer2,v.a,g.j,p.a,m.a,g.k,T.a,f.a,b.a,g.i],null,null)],function(l,t){l(t,1,0)},null)},{},{},[]),N=n("E2f4"),D=n("CFL1"),V=n("oZWX"),K=n("t/Na"),z=n("Fa2m"),W=n("g7VG"),G=n("Fzqc"),X=n("Wf4p"),Z=n("SMsm"),q=n("wT8T"),J=n("d2mR"),Y={title:"Blogpost",showFooter:!1},Q=function(){};n.d(t,"BlogpostModuleNgFactory",function(){return ll});var ll=e["\u0275cmf"](o,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,H]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,d.m,d.l,[e.LOCALE_ID,[2,d.w]]),e["\u0275mpd"](4608,T.a,T.a,[e.PLATFORM_ID]),e["\u0275mpd"](4608,N.a,N.a,[]),e["\u0275mpd"](4608,D.a,D.a,[e.PLATFORM_ID,N.a,p.l]),e["\u0275mpd"](4608,V.a,V.a,[K.c,D.a,m.a,T.a,z.a,W.a]),e["\u0275mpd"](1073742336,d.c,d.c,[]),e["\u0275mpd"](1073742336,G.a,G.a,[]),e["\u0275mpd"](1073742336,X.l,X.l,[[2,X.e]]),e["\u0275mpd"](1073742336,r.b,r.b,[]),e["\u0275mpd"](1073742336,X.v,X.v,[]),e["\u0275mpd"](1073742336,i.c,i.c,[]),e["\u0275mpd"](1073742336,Z.b,Z.b,[]),e["\u0275mpd"](1073742336,q.LazyLoadImageModule,q.LazyLoadImageModule,[]),e["\u0275mpd"](1073742336,J.b,J.b,[Z.c,g.d]),e["\u0275mpd"](1073742336,p.o,p.o,[[2,p.v],[2,p.l]]),e["\u0275mpd"](1073742336,Q,Q,[]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](256,X.f,J.a,[]),e["\u0275mpd"](1024,p.j,function(){return[[{path:"",component:F,data:Y}]]},[])])})},tcEi:function(l,t){l.exports=function(l,t){(t=t||{}).listUnicodeChar=!!t.hasOwnProperty("listUnicodeChar")&&t.listUnicodeChar,t.stripListLeaders=!t.hasOwnProperty("stripListLeaders")||t.stripListLeaders,t.gfm=!t.hasOwnProperty("gfm")||t.gfm,t.useImgAltText=!t.hasOwnProperty("useImgAltText")||t.useImgAltText;var n=l||"";n=n.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(n=n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar?t.listUnicodeChar+" $1":"$1")),t.gfm&&(n=n.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),n=n.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,t.useImgAltText?"$1":"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(t){return console.error(t),l}return n}}}]);