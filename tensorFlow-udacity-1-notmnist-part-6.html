<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <title>TensorFlow Udacity 1_notmnist - Part 6</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="icon" href="/favicon.ico">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-47309606-3"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async=""></script>
  <!-- <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-47309606-3');
  </script> -->
<link rel="stylesheet" href="styles.3f8cb07efeb267c92829.css"><style ng-transition="le-liam">h1[_ngcontent-sc0] {
  font-size: 1.2em;
  color: #999;
  margin-bottom: 0;
}
h2[_ngcontent-sc0] {
  font-size: 2em;
  margin-top: 0;
  padding-top: 0;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0] {
  padding: 5px 10px;
  text-decoration: none;
  margin-top: 10px;
  display: inline-block;
  background-color: #eee;
  border-radius: 4px;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0]:visited, a[_ngcontent-sc0]:link {
  color: #607D8B;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0]:hover {
  color: #039be5;
  background-color: #CFD8DC;
}
nav[_ngcontent-sc0]   a.active[_ngcontent-sc0] {
  color: #039be5;
}
body[_ngcontent-sc0] {
  height: 100%;
}</style><style ng-transition="le-liam">.toolbar-fill-remaining-space[_ngcontent-sc1] {
  
  -ms-flex: 1 1 auto;
      flex: 1 1 auto;
}
a[_ngcontent-sc1] {
  text-decoration: none;
}</style><style ng-transition="le-liam"></style><style ng-transition="le-liam">@media screen and (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style ng-transition="le-liam">.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}</style><style ng-transition="le-liam">.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style><style ng-transition="le-liam">.blogpost-inner[_ngcontent-sc16]     img {
  max-width: 100%
}
.banner-img[_ngcontent-sc16] {
  -o-object-fit: contain;
     object-fit: contain;
}
.td-avatar[_ngcontent-sc16] {
  padding-right: 10px;
}
.avatar-small[_ngcontent-sc16] {
  height: 40px;
  width: 40px;
  border-radius: 50%;
  -ms-flex-negative: 0;
      flex-shrink: 0;
}
mat-chip-list[_ngcontent-sc16]   a[_ngcontent-sc16] {
  margin-right: 5px;
}
.banner-image-container[_ngcontent-sc16] {
  text-align: center;
}
.banner-image-container[_ngcontent-sc16]   img[_ngcontent-sc16] {
  max-width: 100%;
  max-height: 300px;
}</style><style ng-transition="le-liam">.mat-chip{position:relative;overflow:hidden;box-sizing:border-box}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:24px;align-items:center;cursor:default}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip:focus{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);outline:0}@media screen and (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:7px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:7px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:7px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:7px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:32px;height:32px;margin-right:8px;margin-left:0}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:0}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:7px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:7px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden}input.mat-chip-input{width:150px;margin:3px;flex:1 0 150px}</style></head>
<body>
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0&appId=1678943848891569&autoLogAppEvents=1';
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
  <app-root _nghost-sc0="" ng-version="6.0.4"><div _ngcontent-sc0="" class="mat-typography"><app-nav _ngcontent-sc0="" _nghost-sc1=""><div _ngcontent-sc1="" class="mat-typography"><!----><!----><div _ngcontent-sc1=""><mat-toolbar _ngcontent-sc1="" class="mat-toolbar mat-toolbar-single-row"><a _ngcontent-sc1="" approuterlink="/" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/"><span class="mat-button-wrapper"><h3 _ngcontent-sc1="">Le Liam</h3></span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/"><span class="mat-button-wrapper">Home</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/tags" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/tags"><span class="mat-button-wrapper">Tags</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/blogposts" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/blogposts"><span class="mat-button-wrapper">Blogposts</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><span _ngcontent-sc1="" class="toolbar-fill-remaining-space"></span><button _ngcontent-sc1="" color="primary" mat-stroked-button="" class="mat-stroked-button mat-primary _mat-animation-noopable"><span class="mat-button-wrapper"><mat-icon _ngcontent-sc1="" class="mat-icon material-icons" role="img" aria-hidden="true">lock</mat-icon> Login</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></button></mat-toolbar></div><!----></div></app-nav><app-status-bar _ngcontent-sc0="" _nghost-sc2=""><!----></app-status-bar><router-outlet _ngcontent-sc0=""></router-outlet><app-blogpost _nghost-sc16=""><!----><!----><!----><div _ngcontent-sc16=""><!----><div _ngcontent-sc16=""><div _ngcontent-sc16="" class="main-bg" style="padding-bottom:20px"><div _ngcontent-sc16="" class="container"><br _ngcontent-sc16=""><table _ngcontent-sc16=""><tbody _ngcontent-sc16=""><tr _ngcontent-sc16=""><td _ngcontent-sc16="" class="td-avatar" rowspan="2"><div _ngcontent-sc16="" class="avatar-small" style="background-image:url('/assets/32x32_avatar.jpg');background-size:cover;"></div></td><td _ngcontent-sc16="">Liam</td></tr><tr _ngcontent-sc16=""><td _ngcontent-sc16="" style="color:rgba(0,0,0,.54)"><small _ngcontent-sc16="">Apr 23, 2016</small></td></tr></tbody></table><div _ngcontent-sc16="" class="banner-image-container"><!----><img _ngcontent-sc16="" src="/assets/2016031900.png"></div><br _ngcontent-sc16=""><h1 _ngcontent-sc16=""> TensorFlow Udacity 1_notmnist - Part 6 </h1><div _ngcontent-sc16="" class="blogpost-inner"><h2>Summary of 1_notmnist</h2>
<p>Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/1_notmnist.ipynb">ipynb file at Tensorflow Github Repo</a>.</p>
<h2>Notice</h2>
<p>This is as a form of sharing and discuss on better way to solve 1_notmnist problem. Do not copy and paste directly as it does not help on improving yourself + the answer is not optimized.</p>
<p>The entire series of TensorFlow Udacity can be found at <a href="http://nghenglim.github.io/tags/#TensorFlow-Udacity-ref">here</a></p>
<h2>Solving Problem 6</h2>
<pre class="hljs"><code><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">reshape</span><span class="hljs-params">(a)</span>:</span>
    <span class="hljs-keyword">return</span> a.reshape(a.shape[<span class="hljs-number">0</span>],a.shape[<span class="hljs-number">1</span>]*a.shape[<span class="hljs-number">2</span>])
t = pickle.load(open(<span class="hljs-string">"notMNIST.pickle"</span>, <span class="hljs-string">"r"</span>))
y = t[<span class="hljs-string">'train_labels'</span>]
X = reshape(t[<span class="hljs-string">'train_dataset'</span>]) <span class="hljs-comment"># reshape it to 2d array</span>
<span class="hljs-keyword">del</span>(t) <span class="hljs-comment"># this should free up more memory spaces</span>
<span class="hljs-comment"># choose form 0:10000 because not enough memory for the docker</span>
<span class="hljs-comment"># probably a way to do batch learning with scikit-learn</span>
<span class="hljs-comment"># http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html</span>
<span class="hljs-comment"># http://scikit-learn.org/stable/auto_examples/classification/plot_classification_probability.html</span>
C = <span class="hljs-number">1.0</span>
classifier = LogisticRegression(C=C, penalty=<span class="hljs-string">'l1'</span>)
classifier.fit(X[<span class="hljs-number">0</span>:<span class="hljs-number">10000</span>], y[<span class="hljs-number">0</span>:<span class="hljs-number">10000</span>])
y_pred = classifier.predict(X)
classif_rate = np.mean(y_pred.ravel() == y.ravel()) * <span class="hljs-number">100</span>
print(<span class="hljs-string">"classif_rate for %f "</span> % (classif_rate))
<span class="hljs-comment"># we now see how it is predicted using sample 10001 to 20000, which is not used for training</span>
<span class="hljs-comment"># actually should calculate the accuracy in percentage.</span>
print(y[<span class="hljs-number">10001</span>:<span class="hljs-number">20000</span>])
print(y_pred[<span class="hljs-number">10001</span>:<span class="hljs-number">20000</span>])
</code></pre>
<p><img src="/assets/images/2016042300.png" alt="png"></p>
<h2>Comment</h2>
<p>This time we have learnt how to use scikit-learn to do LogisticRegression for notMNIST. As we can see, the classification accuracy is still not bad.</p>
<p>I will expect that tensorflow is either faster and more structured compared to this solution (or google probably will not use this as an example)</p>
</div><mat-chip-list _ngcontent-sc16="" class="mat-chip-list" style="margin-top: 5px" tabindex="-1" aria-required="false" aria-disabled="false" aria-invalid="false" aria-multiselectable="false" aria-orientation="horizontal" id="mat-chip-list-5"><div class="mat-chip-list-wrapper"><!----><a _ngcontent-sc16="" color="accent" mat-stroked-button="" class="mat-stroked-button mat-accent _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/tag/machine-learning"><span class="mat-button-wrapper">machine-learning</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc16="" color="accent" mat-stroked-button="" class="mat-stroked-button mat-accent _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/tag/tensorflow-udacity"><span class="mat-button-wrapper">tensorflow-udacity</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a></div></mat-chip-list></div></div><div _ngcontent-sc16="" class="container" style="padding-top:20px"><h2 _ngcontent-sc16="">Comments</h2><div _ngcontent-sc16=""></div></div></div></div></app-blogpost></div><!----></app-root>
<script type="text/javascript" src="runtime.6afe30102d8fe7337431.js"></script><script type="text/javascript" src="polyfills.1024cb7b58fe3e68344f.js"></script><script type="text/javascript" src="main.de90a9841c49022b2905.js"></script>

<div class="cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div><script id="le-liam-state" type="application/json">{&q;blogpost&q;:{&q;author&q;:{&q;avatar&q;:&q;/assets/32x32_avatar.jpg&q;,&q;name&q;:&q;Liam&q;,&q;tagline&q;:&q;Make people great again!&q;},&q;data&q;:&q;\n## Summary of 1_notmnist\nBasically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact [ipynb file at Tensorflow Github Repo](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/1_notmnist.ipynb).\n\n## Notice\nThis is as a form of sharing and discuss on better way to solve 1_notmnist problem. Do not copy and paste directly as it does not help on improving yourself + the answer is not optimized.\n\nThe entire series of TensorFlow Udacity can be found at [here](http://nghenglim.github.io/tags/#TensorFlow-Udacity-ref)\n\n\n## Solving Problem 6\n~~~python\ndef reshape(a):\n    return a.reshape(a.shape[0],a.shape[1]*a.shape[2])\nt = pickle.load(open(\&q;notMNIST.pickle\&q;, \&q;r\&q;))\ny = t[&s;train_labels&s;]\nX = reshape(t[&s;train_dataset&s;]) # reshape it to 2d array\ndel(t) # this should free up more memory spaces\n# choose form 0:10000 because not enough memory for the docker\n# probably a way to do batch learning with scikit-learn\n# http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html\n# http://scikit-learn.org/stable/auto_examples/classification/plot_classification_probability.html\nC = 1.0\nclassifier = LogisticRegression(C=C, penalty=&s;l1&s;)\nclassifier.fit(X[0:10000], y[0:10000])\ny_pred = classifier.predict(X)\nclassif_rate = np.mean(y_pred.ravel() == y.ravel()) * 100\nprint(\&q;classif_rate for %f \&q; % (classif_rate))\n# we now see how it is predicted using sample 10001 to 20000, which is not used for training\n# actually should calculate the accuracy in percentage.\nprint(y[10001:20000])\nprint(y_pred[10001:20000])\n~~~\n![png](/assets/images/2016042300.png)\n\n## Comment\nThis time we have learnt how to use scikit-learn to do LogisticRegression for notMNIST. As we can see, the classification accuracy is still not bad.\n\nI will expect that tensorflow is either faster and more structured compared to this solution (or google probably will not use this as an example)\n    &q;,&q;id&q;:&q;410c1b2d-3a6c-4c69-9ddb-cf127fc40315&q;,&q;bannerUrl&q;:&q;/assets/2016031900.png&q;,&q;coverUrl&q;:&q;/assets/2016031900.png&q;,&q;postedAt&q;:&q;2016-04-22T16:00:00.000Z&q;,&q;tags&q;:[&q;machine-learning&q;,&q;tensorflow-udacity&q;],&q;title&q;:&q;TensorFlow Udacity 1_notmnist - Part 6&q;,&q;typeCode&q;:1},&q;blogHtml&q;:&q;&l;h2&g;Summary of 1_notmnist&l;/h2&g;\n&l;p&g;Basically 1_notmnist is to learn how to display data in Jupyter Notebook. Besides, it also let us know on sklearn - a python machine library - so that we can then compare with TensorFlow. This is the exact &l;a href=\&q;https://github.com/tensorflow/tensorflow/blob/master/tensorflow/examples/udacity/1_notmnist.ipynb\&q;&g;ipynb file at Tensorflow Github Repo&l;/a&g;.&l;/p&g;\n&l;h2&g;Notice&l;/h2&g;\n&l;p&g;This is as a form of sharing and discuss on better way to solve 1_notmnist problem. Do not copy and paste directly as it does not help on improving yourself + the answer is not optimized.&l;/p&g;\n&l;p&g;The entire series of TensorFlow Udacity can be found at &l;a href=\&q;http://nghenglim.github.io/tags/#TensorFlow-Udacity-ref\&q;&g;here&l;/a&g;&l;/p&g;\n&l;h2&g;Solving Problem 6&l;/h2&g;\n&l;pre class=\&q;hljs\&q;&g;&l;code&g;&l;span class=\&q;hljs-function\&q;&g;&l;span class=\&q;hljs-keyword\&q;&g;def&l;/span&g; &l;span class=\&q;hljs-title\&q;&g;reshape&l;/span&g;&l;span class=\&q;hljs-params\&q;&g;(a)&l;/span&g;:&l;/span&g;\n    &l;span class=\&q;hljs-keyword\&q;&g;return&l;/span&g; a.reshape(a.shape[&l;span class=\&q;hljs-number\&q;&g;0&l;/span&g;],a.shape[&l;span class=\&q;hljs-number\&q;&g;1&l;/span&g;]*a.shape[&l;span class=\&q;hljs-number\&q;&g;2&l;/span&g;])\nt = pickle.load(open(&l;span class=\&q;hljs-string\&q;&g;\&q;notMNIST.pickle\&q;&l;/span&g;, &l;span class=\&q;hljs-string\&q;&g;\&q;r\&q;&l;/span&g;))\ny = t[&l;span class=\&q;hljs-string\&q;&g;&s;train_labels&s;&l;/span&g;]\nX = reshape(t[&l;span class=\&q;hljs-string\&q;&g;&s;train_dataset&s;&l;/span&g;]) &l;span class=\&q;hljs-comment\&q;&g;# reshape it to 2d array&l;/span&g;\n&l;span class=\&q;hljs-keyword\&q;&g;del&l;/span&g;(t) &l;span class=\&q;hljs-comment\&q;&g;# this should free up more memory spaces&l;/span&g;\n&l;span class=\&q;hljs-comment\&q;&g;# choose form 0:10000 because not enough memory for the docker&l;/span&g;\n&l;span class=\&q;hljs-comment\&q;&g;# probably a way to do batch learning with scikit-learn&l;/span&g;\n&l;span class=\&q;hljs-comment\&q;&g;# http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html&l;/span&g;\n&l;span class=\&q;hljs-comment\&q;&g;# http://scikit-learn.org/stable/auto_examples/classification/plot_classification_probability.html&l;/span&g;\nC = &l;span class=\&q;hljs-number\&q;&g;1.0&l;/span&g;\nclassifier = LogisticRegression(C=C, penalty=&l;span class=\&q;hljs-string\&q;&g;&s;l1&s;&l;/span&g;)\nclassifier.fit(X[&l;span class=\&q;hljs-number\&q;&g;0&l;/span&g;:&l;span class=\&q;hljs-number\&q;&g;10000&l;/span&g;], y[&l;span class=\&q;hljs-number\&q;&g;0&l;/span&g;:&l;span class=\&q;hljs-number\&q;&g;10000&l;/span&g;])\ny_pred = classifier.predict(X)\nclassif_rate = np.mean(y_pred.ravel() == y.ravel()) * &l;span class=\&q;hljs-number\&q;&g;100&l;/span&g;\nprint(&l;span class=\&q;hljs-string\&q;&g;\&q;classif_rate for %f \&q;&l;/span&g; % (classif_rate))\n&l;span class=\&q;hljs-comment\&q;&g;# we now see how it is predicted using sample 10001 to 20000, which is not used for training&l;/span&g;\n&l;span class=\&q;hljs-comment\&q;&g;# actually should calculate the accuracy in percentage.&l;/span&g;\nprint(y[&l;span class=\&q;hljs-number\&q;&g;10001&l;/span&g;:&l;span class=\&q;hljs-number\&q;&g;20000&l;/span&g;])\nprint(y_pred[&l;span class=\&q;hljs-number\&q;&g;10001&l;/span&g;:&l;span class=\&q;hljs-number\&q;&g;20000&l;/span&g;])\n&l;/code&g;&l;/pre&g;\n&l;p&g;&l;img src=\&q;/assets/images/2016042300.png\&q; alt=\&q;png\&q;&g;&l;/p&g;\n&l;h2&g;Comment&l;/h2&g;\n&l;p&g;This time we have learnt how to use scikit-learn to do LogisticRegression for notMNIST. As we can see, the classification accuracy is still not bad.&l;/p&g;\n&l;p&g;I will expect that tensorflow is either faster and more structured compared to this solution (or google probably will not use this as an example)&l;/p&g;\n&q;,&q;showType&q;:3,&q;errorMessage&q;:&q;&q;}</script></body></html>