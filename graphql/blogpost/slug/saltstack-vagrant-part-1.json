{"author":{"avatar":"/assets/32x32_avatar.jpg","name":"Liam","tagline":"Make people great again!"},"data":"\n## What is SaltStack\n- SaltStack software orchestrates the build and ongoing management of any modern infrastructure.\n- SaltStack is also the most scalable and flexible configuration management software for event-driven automation of CloudOps, ITOps and DevOps.\n- SaltStack is one of the top configuration management framework among Chef, Puppet, Ansible and SaltStack.\n\n## Why SaltStack with Vagrant\n- Salt execution routines can be written as plain Python modules. (I am the Python guy)\n- SaltStack script for Vagrant will be mostly same for the cloud server\n    - Achievement `development server == production server` Unlocked\n\n## Vagrant Folder Structure\n~~~\n- salt/\n  - root/\n    - top.sls\n    - webserver.sls\n  - minion\n- Vagrantfile\n~~~\n\n## Vagrantfile Setup\n~~~ ruby\nVagrant.configure(\"2\") do |config|\n\n    # load up the box for centos 6.6\n    # This will take long to download the os, hold up there\n    # Or go for a coffee\n        config.vm.box = \"CentOS_7_x64\"\n    ## For masterless, mount your salt file root\n    config.vm.synced_folder \"salt/root/\", \"/srv/salt/\"\n    config.vm.network \"private_network\", ip: \"10.0.0.201\"\n\n    ## Use all the defaults:\n    config.vm.provision :salt do |salt|\n        salt.bootstrap_options = \"-P -c /tmp\" # to salve minion_config not copied issue\n        salt.masterless = true\n        salt.minion_config = \"salt/minion\"\n        salt.run_highstate = true\n\n    end\nend\n~~~\n\n## top.sls\n~~~ ruby\nbase:\n  '*':\n    - webserver\n~~~\n\n## webserver.sls\n~~~ ruby\nhttpd:               # ID declaration\n  pkg:                # state declaration\n    - installed       # function declaration\n  service.running:\n    - enable: True\n    - require:\n        - pkg: httpd\n~~~\n\n## minion\n~~~ ruby\nfile_client: local\n~~~\n\n## Ending\nRun `vagrant up` you should get a CentOS_7_x64 box with httpd server installed!\n\nBy the end of this article, you should know the basic of how salt work.\n    ","description":"\n- SaltStack software orchestrates the build and ongoing management of any modern infrastructure.\n- SaltStack is also the most scalable and flexible configuration management software for event-driven automation of CloudOps, ITOps and DevOps.\n- SaltStack is one of the top configuration management framework among Chef, Puppet, Ansible and SaltStack.\n    ","id":"0f2cdba8-8900-49f8-9666-98fd40eddfe7","bannerUrl":"/assets/2016011600.png","coverUrl":"/assets/thumb-150-2016011600.png","postedAt":"2016-01-15T16:00:00.000Z","tags":["salt","configuration-management","vagrant"],"title":"SaltStack Vagrant Part 1","typeCode":1}