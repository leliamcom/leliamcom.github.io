<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <title>Goroutine</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="icon" href="/favicon.ico">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-47309606-3"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async=""></script>
  <!-- <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-47309606-3');
  </script> -->
<link rel="stylesheet" href="styles.3f8cb07efeb267c92829.css"><style ng-transition="le-liam">h1[_ngcontent-sc0] {
  font-size: 1.2em;
  color: #999;
  margin-bottom: 0;
}
h2[_ngcontent-sc0] {
  font-size: 2em;
  margin-top: 0;
  padding-top: 0;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0] {
  padding: 5px 10px;
  text-decoration: none;
  margin-top: 10px;
  display: inline-block;
  background-color: #eee;
  border-radius: 4px;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0]:visited, a[_ngcontent-sc0]:link {
  color: #607D8B;
}
nav[_ngcontent-sc0]   a[_ngcontent-sc0]:hover {
  color: #039be5;
  background-color: #CFD8DC;
}
nav[_ngcontent-sc0]   a.active[_ngcontent-sc0] {
  color: #039be5;
}
body[_ngcontent-sc0] {
  height: 100%;
}</style><style ng-transition="le-liam">.toolbar-fill-remaining-space[_ngcontent-sc1] {
  
  -ms-flex: 1 1 auto;
      flex: 1 1 auto;
}
a[_ngcontent-sc1] {
  text-decoration: none;
}</style><style ng-transition="le-liam"></style><style ng-transition="le-liam">@media screen and (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style ng-transition="le-liam">.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{transition:none;opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:1}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-raised-button:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-raised-button[disabled]{box-shadow:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-fab::-moz-focus-inner{border:0}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-fab[disabled]{box-shadow:none}.mat-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:88px;line-height:36px;padding:0 16px;border-radius:2px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:1}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-mini-fab[disabled]{box-shadow:none}.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-mini-fab:not([disabled]):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-focus-overlay{background-color:rgba(0,0,0,.12);border-radius:inherit;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media screen and (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:rgba(255,255,255,.5)}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media screen and (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}</style><style ng-transition="le-liam">.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style><style ng-transition="le-liam">.blogpost-inner[_ngcontent-sc16]     img {
  max-width: 100%
}
.banner-img[_ngcontent-sc16] {
  -o-object-fit: contain;
     object-fit: contain;
}
.td-avatar[_ngcontent-sc16] {
  padding-right: 10px;
}
.avatar-small[_ngcontent-sc16] {
  height: 40px;
  width: 40px;
  border-radius: 50%;
  -ms-flex-negative: 0;
      flex-shrink: 0;
}
mat-chip-list[_ngcontent-sc16]   a[_ngcontent-sc16] {
  margin-right: 5px;
}
.banner-image-container[_ngcontent-sc16] {
  text-align: center;
}
.banner-image-container[_ngcontent-sc16]   img[_ngcontent-sc16] {
  max-width: 100%;
  max-height: 300px;
}</style><style ng-transition="le-liam">.mat-chip{position:relative;overflow:hidden;box-sizing:border-box}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:24px;align-items:center;cursor:default}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip:focus{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);outline:0}@media screen and (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:7px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:7px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:7px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:7px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:32px;height:32px;margin-right:8px;margin-left:0}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:0}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:7px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:7px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden}input.mat-chip-input{width:150px;margin:3px;flex:1 0 150px}</style></head>
<body>
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.0&appId=1678943848891569&autoLogAppEvents=1';
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>
  <app-root _nghost-sc0="" ng-version="6.0.4"><div _ngcontent-sc0="" class="mat-typography"><app-nav _ngcontent-sc0="" _nghost-sc1=""><div _ngcontent-sc1="" class="mat-typography"><!----><!----><div _ngcontent-sc1=""><mat-toolbar _ngcontent-sc1="" class="mat-toolbar mat-toolbar-single-row"><a _ngcontent-sc1="" approuterlink="/" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/"><span class="mat-button-wrapper"><h3 _ngcontent-sc1="">Le Liam</h3></span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/"><span class="mat-button-wrapper">Home</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/tags" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/tags"><span class="mat-button-wrapper">Tags</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><a _ngcontent-sc1="" approuterlink="/blogposts" approuterlinkactive="mat-primary" mat-button="" class="mat-button _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/blogposts"><span class="mat-button-wrapper">Blogposts</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a><span _ngcontent-sc1="" class="toolbar-fill-remaining-space"></span><button _ngcontent-sc1="" color="primary" mat-stroked-button="" class="mat-stroked-button mat-primary _mat-animation-noopable"><span class="mat-button-wrapper"><mat-icon _ngcontent-sc1="" class="mat-icon material-icons" role="img" aria-hidden="true">lock</mat-icon> Login</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></button></mat-toolbar></div><!----></div></app-nav><app-status-bar _ngcontent-sc0="" _nghost-sc2=""><!----></app-status-bar><router-outlet _ngcontent-sc0=""></router-outlet><app-blogpost _nghost-sc16=""><!----><!----><!----><div _ngcontent-sc16=""><!----><div _ngcontent-sc16=""><div _ngcontent-sc16="" class="main-bg" style="padding-bottom:20px"><div _ngcontent-sc16="" class="container"><br _ngcontent-sc16=""><table _ngcontent-sc16=""><tbody _ngcontent-sc16=""><tr _ngcontent-sc16=""><td _ngcontent-sc16="" class="td-avatar" rowspan="2"><div _ngcontent-sc16="" class="avatar-small" style="background-image:url('/assets/32x32_avatar.jpg');background-size:cover;"></div></td><td _ngcontent-sc16="">Liam</td></tr><tr _ngcontent-sc16=""><td _ngcontent-sc16="" style="color:rgba(0,0,0,.54)"><small _ngcontent-sc16="">Sep 19, 2015</small></td></tr></tbody></table><div _ngcontent-sc16="" class="banner-image-container"><!----><img _ngcontent-sc16="" src="/assets/2015091900.jpg"></div><br _ngcontent-sc16=""><h1 _ngcontent-sc16=""> Goroutine </h1><div _ngcontent-sc16="" class="blogpost-inner"><p>A goroutine is a lightweight thread managed by the Go runtime to support concurrency. It is considered a better mechanism than nodejs event event loop or normal thread.</p>
<h2>Goroutine vs Java thread</h2>
<p>Quoting from <a href="http://tleyden.github.io/blog/2014/10/30/goroutines-vs-threads/">this blog</a></p>
<ul>
<li>On Java you can run 1000’s or tens of 1000’s threads. On Go you can run hundreds of thousands or millions of goroutines.</li>
<li>Java threads map directly to OS threads, and are relatively heavyweight. Part of the reason they are heavyweight is their rather large fixed stack size. This caps the number of them you can run in a single VM due to the increasing memory overhead.</li>
<li>Go OTOH has a segmented stack that grows as needed. They are “Green threads”, which means the Go runtime does the scheduling, not the OS. The runtime multiplexes the goroutines onto real OS threads, the number of which is controlled by GOMAXPROCS. Typically you’ll want to set this to the number of cores on your system, to maximize potential parellelism.</li>
</ul>
<h2>Example of goroutine</h2>
<p>The example can be found at <a href="https://gobyexample.com/goroutines">gobyexample</a>. The how it work internally can refer to this
<a href="http://www.goinggo.net/2015/02/scheduler-tracing-in-go.html">"example"</a>.</p>
<p>To summarise, golang achieve concurrency with the implementation of goroutine and <a href="https://gobyexample.com/channels">channel</a>. Goroutine acts as task worker while channel let them achieve "<a href="https://golang.org/doc/codewalk/sharemem/">Share Memory By Communicating</a>".</p>
<h2>Advantage of goroutine</h2>
<ul>
<li>
<p>No callback hell, example at <a href="http://stackoverflow.com/a/23709882">stackoverflow</a></p>
<pre class="hljs"><code><span class="hljs-comment">//nodejs (if not using async/await or promise)</span>
doSomething1(arg1, arg2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  doSomething2(arg1, arg2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    doSomething3(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-comment">// done</span>
    });
  });
});
somethingElse();
</code></pre>
<pre class="hljs"><code><span class="hljs-comment">//golang</span>
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
  doSomething1(arg1, arg2)
  doSomething2(arg1, arg2)
  doSomething3()
  <span class="hljs-comment">// done</span>
}()
somethingElse()
</code></pre>
</li>
<li>
<p>Faster startup time and light weight than threads = run more, run faster</p>
</li>
</ul>
</div><mat-chip-list _ngcontent-sc16="" class="mat-chip-list" style="margin-top: 5px" tabindex="-1" aria-required="false" aria-disabled="false" aria-invalid="false" aria-multiselectable="false" aria-orientation="horizontal" id="mat-chip-list-36"><div class="mat-chip-list-wrapper"><!----><a _ngcontent-sc16="" color="accent" mat-stroked-button="" class="mat-stroked-button mat-accent _mat-animation-noopable" tabindex="0" aria-disabled="false" href="/tag/golang"><span class="mat-button-wrapper">golang</span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></a></div></mat-chip-list></div></div><div _ngcontent-sc16="" class="container" style="padding-top:20px"><h2 _ngcontent-sc16="">Comments</h2><div _ngcontent-sc16=""></div></div></div></div></app-blogpost></div><!----></app-root>
<script type="text/javascript" src="runtime.6afe30102d8fe7337431.js"></script><script type="text/javascript" src="polyfills.1024cb7b58fe3e68344f.js"></script><script type="text/javascript" src="main.c6e43c913696a3b0ab1d.js"></script>

<div class="cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div><script id="le-liam-state" type="application/json">{&q;blogpost&q;:{&q;author&q;:{&q;avatar&q;:&q;/assets/32x32_avatar.jpg&q;,&q;name&q;:&q;Liam&q;,&q;tagline&q;:&q;Make people great again!&q;},&q;data&q;:&q;\nA goroutine is a lightweight thread managed by the Go runtime to support concurrency. It is considered a better mechanism than nodejs event event loop or normal thread.\n\n## Goroutine vs Java thread\nQuoting from [this blog](http://tleyden.github.io/blog/2014/10/30/goroutines-vs-threads/)\n\n- On Java you can run 1000’s or tens of 1000’s threads. On Go you can run hundreds of thousands or millions of goroutines.\n- Java threads map directly to OS threads, and are relatively heavyweight. Part of the reason they are heavyweight is their rather large fixed stack size. This caps the number of them you can run in a single VM due to the increasing memory overhead.\n- Go OTOH has a segmented stack that grows as needed. They are “Green threads”, which means the Go runtime does the scheduling, not the OS. The runtime multiplexes the goroutines onto real OS threads, the number of which is controlled by GOMAXPROCS. Typically you’ll want to set this to the number of cores on your system, to maximize potential parellelism.\n\n## Example of goroutine\nThe example can be found at [gobyexample](https://gobyexample.com/goroutines). The how it work internally can refer to this\n[\&q;example\&q;](http://www.goinggo.net/2015/02/scheduler-tracing-in-go.html).\n\nTo summarise, golang achieve concurrency with the implementation of goroutine and [channel](https://gobyexample.com/channels). Goroutine acts as task worker while channel let them achieve \&q;[Share Memory By Communicating](https://golang.org/doc/codewalk/sharemem/)\&q;.\n\n## Advantage of goroutine\n- No callback hell, example at [stackoverflow](http://stackoverflow.com/a/23709882)\n\n  ~~~ js\n  //nodejs (if not using async/await or promise)\n  doSomething1(arg1, arg2, function() {\n    doSomething2(arg1, arg2, function() {\n      doSomething3(function() {\n        // done\n      });\n    });\n  });\n  somethingElse();\n  ~~~\n  ~~~ go\n  //golang\n  go func() {\n    doSomething1(arg1, arg2)\n    doSomething2(arg1, arg2)\n    doSomething3()\n    // done\n  }()\n  somethingElse()\n  ~~~\n- Faster startup time and light weight than threads = run more, run faster\n    &q;,&q;id&q;:&q;6cd87970-6e04-4316-8c24-3ae2b485e112&q;,&q;bannerUrl&q;:&q;/assets/2015091900.jpg&q;,&q;coverUrl&q;:&q;/assets/2015091900.jpg&q;,&q;postedAt&q;:&q;2015-09-18T16:00:00.000Z&q;,&q;tags&q;:[&q;golang&q;],&q;title&q;:&q;Goroutine&q;,&q;typeCode&q;:1},&q;blogHtml&q;:&q;&l;p&g;A goroutine is a lightweight thread managed by the Go runtime to support concurrency. It is considered a better mechanism than nodejs event event loop or normal thread.&l;/p&g;\n&l;h2&g;Goroutine vs Java thread&l;/h2&g;\n&l;p&g;Quoting from &l;a href=\&q;http://tleyden.github.io/blog/2014/10/30/goroutines-vs-threads/\&q;&g;this blog&l;/a&g;&l;/p&g;\n&l;ul&g;\n&l;li&g;On Java you can run 1000’s or tens of 1000’s threads. On Go you can run hundreds of thousands or millions of goroutines.&l;/li&g;\n&l;li&g;Java threads map directly to OS threads, and are relatively heavyweight. Part of the reason they are heavyweight is their rather large fixed stack size. This caps the number of them you can run in a single VM due to the increasing memory overhead.&l;/li&g;\n&l;li&g;Go OTOH has a segmented stack that grows as needed. They are “Green threads”, which means the Go runtime does the scheduling, not the OS. The runtime multiplexes the goroutines onto real OS threads, the number of which is controlled by GOMAXPROCS. Typically you’ll want to set this to the number of cores on your system, to maximize potential parellelism.&l;/li&g;\n&l;/ul&g;\n&l;h2&g;Example of goroutine&l;/h2&g;\n&l;p&g;The example can be found at &l;a href=\&q;https://gobyexample.com/goroutines\&q;&g;gobyexample&l;/a&g;. The how it work internally can refer to this\n&l;a href=\&q;http://www.goinggo.net/2015/02/scheduler-tracing-in-go.html\&q;&g;&a;quot;example&a;quot;&l;/a&g;.&l;/p&g;\n&l;p&g;To summarise, golang achieve concurrency with the implementation of goroutine and &l;a href=\&q;https://gobyexample.com/channels\&q;&g;channel&l;/a&g;. Goroutine acts as task worker while channel let them achieve &a;quot;&l;a href=\&q;https://golang.org/doc/codewalk/sharemem/\&q;&g;Share Memory By Communicating&l;/a&g;&a;quot;.&l;/p&g;\n&l;h2&g;Advantage of goroutine&l;/h2&g;\n&l;ul&g;\n&l;li&g;\n&l;p&g;No callback hell, example at &l;a href=\&q;http://stackoverflow.com/a/23709882\&q;&g;stackoverflow&l;/a&g;&l;/p&g;\n&l;pre class=\&q;hljs\&q;&g;&l;code&g;&l;span class=\&q;hljs-comment\&q;&g;//nodejs (if not using async/await or promise)&l;/span&g;\ndoSomething1(arg1, arg2, &l;span class=\&q;hljs-function\&q;&g;&l;span class=\&q;hljs-keyword\&q;&g;function&l;/span&g;(&l;span class=\&q;hljs-params\&q;&g;&l;/span&g;) &l;/span&g;{\n  doSomething2(arg1, arg2, &l;span class=\&q;hljs-function\&q;&g;&l;span class=\&q;hljs-keyword\&q;&g;function&l;/span&g;(&l;span class=\&q;hljs-params\&q;&g;&l;/span&g;) &l;/span&g;{\n    doSomething3(&l;span class=\&q;hljs-function\&q;&g;&l;span class=\&q;hljs-keyword\&q;&g;function&l;/span&g;(&l;span class=\&q;hljs-params\&q;&g;&l;/span&g;) &l;/span&g;{\n      &l;span class=\&q;hljs-comment\&q;&g;// done&l;/span&g;\n    });\n  });\n});\nsomethingElse();\n&l;/code&g;&l;/pre&g;\n&l;pre class=\&q;hljs\&q;&g;&l;code&g;&l;span class=\&q;hljs-comment\&q;&g;//golang&l;/span&g;\n&l;span class=\&q;hljs-keyword\&q;&g;go&l;/span&g; &l;span class=\&q;hljs-function\&q;&g;&l;span class=\&q;hljs-keyword\&q;&g;func&l;/span&g;&l;span class=\&q;hljs-params\&q;&g;()&l;/span&g;&l;/span&g; {\n  doSomething1(arg1, arg2)\n  doSomething2(arg1, arg2)\n  doSomething3()\n  &l;span class=\&q;hljs-comment\&q;&g;// done&l;/span&g;\n}()\nsomethingElse()\n&l;/code&g;&l;/pre&g;\n&l;/li&g;\n&l;li&g;\n&l;p&g;Faster startup time and light weight than threads = run more, run faster&l;/p&g;\n&l;/li&g;\n&l;/ul&g;\n&q;,&q;showType&q;:3,&q;errorMessage&q;:&q;&q;}</script></body></html>